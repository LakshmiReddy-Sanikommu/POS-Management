{"ast":null,"code":"var _jsxFileName = \"/Users/srilakshmireddysanikommu/Desktop/G/frontend/src/pages/POS.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport authService from '../services/authService';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst POS = () => {\n  _s();\n  const [activeTab, setActiveTab] = useState('new');\n  const [transactions, setTransactions] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [cart, setCart] = useState([]);\n  const [barcodeSearch, setBarcodeSearch] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedPaymentMethod, setSelectedPaymentMethod] = useState('CASH');\n  const [customerPaid, setCustomerPaid] = useState('');\n  const [discountAmount, setDiscountAmount] = useState(0);\n  const paymentMethods = [{\n    value: 'CASH',\n    label: 'Cash'\n  }, {\n    value: 'CREDIT_CARD',\n    label: 'Credit Card'\n  }, {\n    value: 'DEBIT_CARD',\n    label: 'Debit Card'\n  }, {\n    value: 'CHECK',\n    label: 'Check'\n  }, {\n    value: 'FOOD_STAMPS',\n    label: 'Food Stamps'\n  }, {\n    value: 'OTHER',\n    label: 'Other'\n  }];\n  useEffect(() => {\n    if (activeTab === 'new') {\n      fetchProducts();\n      fetchCategories();\n    } else {\n      fetchTransactions();\n    }\n  }, [activeTab]);\n  const fetchTransactions = async () => {\n    try {\n      setLoading(true);\n      const response = await authService.getApiInstance().get('/pos/transactions');\n      setTransactions(response.data);\n    } catch (error) {\n      console.error('Error fetching transactions:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchProducts = async () => {\n    try {\n      setLoading(true);\n      const response = await authService.getApiInstance().get('/products');\n      setProducts(response.data);\n    } catch (error) {\n      console.error('Error fetching products:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchCategories = async () => {\n    try {\n      const response = await authService.getApiInstance().get('/categories');\n      setCategories(response.data);\n    } catch (error) {\n      console.error('Error fetching categories:', error);\n    }\n  };\n  const handleBarcodeSearch = async () => {\n    if (!barcodeSearch.trim()) return;\n    try {\n      const response = await authService.getApiInstance().get(`/products/barcode/${barcodeSearch}`);\n      const product = response.data;\n      addToCart(product, 1);\n      setBarcodeSearch('');\n    } catch (error) {\n      console.error('Product not found:', error);\n      alert('Product not found');\n    }\n  };\n  const handleProductSearch = searchTerm => {\n    if (!searchTerm.trim()) {\n      setSearchResults([]);\n      return;\n    }\n    const filtered = products.filter(product => product.name.toLowerCase().includes(searchTerm.toLowerCase()) || product.barcode.includes(searchTerm));\n    setSearchResults(filtered.slice(0, 10)); // Limit to 10 results\n  };\n  const addToCart = (product, quantity = 1) => {\n    setCart(prevCart => {\n      const existingItem = prevCart.find(item => item.product.id === product.id);\n      if (existingItem) {\n        return prevCart.map(item => item.product.id === product.id ? {\n          ...item,\n          quantity: item.quantity + quantity\n        } : item);\n      } else {\n        return [...prevCart, {\n          product,\n          quantity\n        }];\n      }\n    });\n  };\n  const updateCartItemQuantity = (productId, newQuantity) => {\n    if (newQuantity <= 0) {\n      removeFromCart(productId);\n    } else {\n      setCart(prevCart => prevCart.map(item => item.product.id === productId ? {\n        ...item,\n        quantity: newQuantity\n      } : item));\n    }\n  };\n  const removeFromCart = productId => {\n    setCart(prevCart => prevCart.filter(item => item.product.id !== productId));\n  };\n  const calculateSubtotal = () => {\n    return cart.reduce((total, item) => total + item.product.price * item.quantity, 0);\n  };\n\n  // Calculate tax for food stamp eligible items (no tax when paying with food stamps)\n  const calculateFoodStampEligibleSubtotal = () => {\n    return cart.filter(item => item.product.foodStampEligible).reduce((total, item) => total + item.product.price * item.quantity, 0);\n  };\n\n  // Calculate tax for non-food stamp eligible items\n  const calculateNonFoodStampSubtotal = () => {\n    return cart.filter(item => !item.product.foodStampEligible).reduce((total, item) => total + item.product.price * item.quantity, 0);\n  };\n  const calculateTax = () => {\n    return cart.reduce((tax, item) => {\n      // Find category for this product - need to match by category ID since product has category object\n      const category = categories.find(cat => {\n        var _item$product$categor;\n        return cat.id === ((_item$product$categor = item.product.category) === null || _item$product$categor === void 0 ? void 0 : _item$product$categor.id);\n      });\n      const taxRate = category ? category.taxRate / 100 : 0;\n\n      // If paying with food stamps, don't apply tax to food stamp eligible items\n      if (selectedPaymentMethod === 'FOOD_STAMPS' && item.product.foodStampEligible) {\n        return tax; // No tax for food stamp eligible items when paying with food stamps\n      }\n      return tax + item.product.price * item.quantity * taxRate;\n    }, 0);\n  };\n  const getPaymentBreakdown = () => {\n    const foodStampSubtotal = calculateFoodStampEligibleSubtotal();\n    const nonFoodStampSubtotal = calculateNonFoodStampSubtotal();\n\n    // Calculate tax for non-food stamp items\n    const nonFoodStampTax = cart.filter(item => !item.product.foodStampEligible).reduce((tax, item) => {\n      const category = categories.find(cat => {\n        var _item$product$categor2;\n        return cat.id === ((_item$product$categor2 = item.product.category) === null || _item$product$categor2 === void 0 ? void 0 : _item$product$categor2.id);\n      });\n      const taxRate = category ? category.taxRate / 100 : 0;\n      return tax + item.product.price * item.quantity * taxRate;\n    }, 0);\n\n    // Calculate tax for food stamp items (only if not paying with food stamps)\n    const foodStampTax = selectedPaymentMethod === 'FOOD_STAMPS' ? 0 : cart.filter(item => item.product.foodStampEligible).reduce((tax, item) => {\n      const category = categories.find(cat => {\n        var _item$product$categor3;\n        return cat.id === ((_item$product$categor3 = item.product.category) === null || _item$product$categor3 === void 0 ? void 0 : _item$product$categor3.id);\n      });\n      const taxRate = category ? category.taxRate / 100 : 0;\n      return tax + item.product.price * item.quantity * taxRate;\n    }, 0);\n    return {\n      foodStampSubtotal,\n      foodStampTax,\n      foodStampTotal: foodStampSubtotal + foodStampTax,\n      nonFoodStampSubtotal,\n      nonFoodStampTax,\n      nonFoodStampTotal: nonFoodStampSubtotal + nonFoodStampTax,\n      totalTax: foodStampTax + nonFoodStampTax,\n      grandTotal: foodStampSubtotal + foodStampTax + nonFoodStampSubtotal + nonFoodStampTax - discountAmount\n    };\n  };\n  const calculateTotal = () => {\n    const breakdown = getPaymentBreakdown();\n    return breakdown.grandTotal;\n  };\n  const calculateChange = () => {\n    const paid = parseFloat(customerPaid) || 0;\n    const total = calculateTotal();\n    return Math.max(0, paid - total);\n  };\n  const handleCompleteTransaction = async () => {\n    if (cart.length === 0) {\n      alert('Cart is empty');\n      return;\n    }\n    const total = calculateTotal();\n    const paid = parseFloat(customerPaid) || 0;\n    if (selectedPaymentMethod === 'CASH' && paid < total) {\n      alert('Insufficient payment amount');\n      return;\n    }\n    try {\n      const currentUser = authService.getCurrentUser();\n      const transactionItems = cart.map(item => ({\n        product: {\n          id: item.product.id\n        },\n        quantity: item.quantity,\n        price: item.product.price,\n        subtotal: item.product.price * item.quantity\n      }));\n      const payload = {\n        cashier: {\n          id: currentUser.id\n        },\n        paymentMethod: selectedPaymentMethod,\n        subtotal: calculateSubtotal(),\n        taxAmount: calculateTax(),\n        discountAmount: discountAmount,\n        total: total,\n        status: 'COMPLETED',\n        items: transactionItems\n      };\n      await authService.getApiInstance().post('/pos/transactions', payload);\n\n      // Clear cart and reset form\n      setCart([]);\n      setCustomerPaid('');\n      setDiscountAmount(0);\n      setSelectedPaymentMethod('CASH');\n      alert('Transaction completed successfully!');\n    } catch (error) {\n      console.error('Error completing transaction:', error);\n      alert('Error completing transaction');\n    }\n  };\n  const handleVoidTransaction = async transactionId => {\n    if (window.confirm('Are you sure you want to void this transaction?')) {\n      try {\n        await authService.getApiInstance().put(`/pos/transactions/${transactionId}/void`);\n        fetchTransactions();\n      } catch (error) {\n        console.error('Error voiding transaction:', error);\n      }\n    }\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleString();\n  };\n  const formatTransactionStatus = status => {\n    const statusMap = {\n      'COMPLETED': {\n        label: 'Completed',\n        color: 'bg-green-100 text-green-800'\n      },\n      'PENDING': {\n        label: 'Pending',\n        color: 'bg-yellow-100 text-yellow-800'\n      },\n      'VOIDED': {\n        label: 'Voided',\n        color: 'bg-red-100 text-red-800'\n      }\n    };\n    return statusMap[status] || {\n      label: status,\n      color: 'bg-gray-100 text-gray-800'\n    };\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-gray-900\",\n        children: \"Point of Sale\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex space-x-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('new'),\n          className: `py-2 px-1 border-b-2 font-medium text-sm ${activeTab === 'new' ? 'border-indigo-500 text-indigo-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n          children: \"New Transaction\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('history'),\n          className: `py-2 px-1 border-b-2 font-medium text-sm ${activeTab === 'history' ? 'border-indigo-500 text-indigo-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n          children: \"Transaction History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this), activeTab === 'new' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold mb-2\",\n            children: \"Barcode Scanner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: barcodeSearch,\n              onChange: e => setBarcodeSearch(e.target.value),\n              onKeyPress: e => e.key === 'Enter' && handleBarcodeSearch(),\n              placeholder: \"Scan or enter barcode\",\n              className: \"flex-1 border rounded px-3 py-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleBarcodeSearch,\n              className: \"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",\n              children: \"Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold mb-2\",\n            children: \"Product Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: e => handleProductSearch(e.target.value),\n            placeholder: \"Search products by name...\",\n            className: \"w-full border rounded px-3 py-2 mb-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this), searchResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-h-48 overflow-y-auto border rounded\",\n            children: searchResults.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => addToCart(product),\n              className: \"p-2 hover:bg-gray-100 cursor-pointer border-b\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium\",\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-500\",\n                children: [product.barcode, \" \\u2022 $\", product.price.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 23\n              }, this)]\n            }, product.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold mb-2\",\n            children: \"Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this), cart.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: \"Cart is empty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: cart.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between border-b pb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: item.product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-500\",\n                  children: [\"$\", item.product.price.toFixed(2), \" each\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => updateCartItemQuantity(item.product.id, item.quantity - 1),\n                  className: \"bg-gray-200 text-gray-600 w-6 h-6 rounded text-sm\",\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"w-8 text-center\",\n                  children: item.quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => updateCartItemQuantity(item.product.id, item.quantity + 1),\n                  className: \"bg-gray-200 text-gray-600 w-6 h-6 rounded text-sm\",\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => removeFromCart(item.product.id),\n                  className: \"bg-red-500 text-white w-6 h-6 rounded text-sm ml-2\",\n                  children: \"\\xD7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right w-20\",\n                children: [\"$\", (item.product.price * item.quantity).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 23\n              }, this)]\n            }, item.product.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold mb-4\",\n            children: \"Transaction Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Subtotal:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"$\", calculateSubtotal().toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Tax:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"$\", calculateTax().toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Discount:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"-$\", discountAmount.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between font-bold text-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Total:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"$\", calculateTotal().toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-1\",\n                children: \"Discount Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.01\",\n                value: discountAmount,\n                onChange: e => setDiscountAmount(parseFloat(e.target.value) || 0),\n                className: \"w-full border rounded px-3 py-2\",\n                placeholder: \"0.00\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-1\",\n                children: \"Payment Method\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: selectedPaymentMethod,\n                onChange: e => setSelectedPaymentMethod(e.target.value),\n                className: \"w-full border rounded px-3 py-2\",\n                children: paymentMethods.map(method => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: method.value,\n                  children: method.label\n                }, method.value, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 17\n            }, this), selectedPaymentMethod === 'CASH' && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium mb-1\",\n                  children: \"Amount Paid\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  step: \"0.01\",\n                  value: customerPaid,\n                  onChange: e => setCustomerPaid(e.target.value),\n                  className: \"w-full border rounded px-3 py-2\",\n                  placeholder: \"0.00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 21\n              }, this), customerPaid && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-lg font-semibold\",\n                children: [\"Change: $\", calculateChange().toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCompleteTransaction,\n              disabled: cart.length === 0,\n              className: \"w-full bg-green-500 text-white py-3 rounded font-semibold hover:bg-green-600 disabled:bg-gray-300\",\n              children: \"Complete Transaction\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 9\n    }, this) :\n    /*#__PURE__*/\n    /* Transaction History */\n    _jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow overflow-hidden\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"min-w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-gray-50\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Transaction #\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Date/Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Cashier\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Payment Method\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          className: \"bg-white divide-y divide-gray-200\",\n          children: transactions.map(transaction => {\n            var _transaction$cashier, _paymentMethods$find, _transaction$total;\n            const status = formatTransactionStatus(transaction.status);\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",\n                children: [\"#\", transaction.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                children: transaction.transactionDate ? formatDate(transaction.transactionDate) : 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                children: ((_transaction$cashier = transaction.cashier) === null || _transaction$cashier === void 0 ? void 0 : _transaction$cashier.username) || 'Unknown'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                children: ((_paymentMethods$find = paymentMethods.find(pm => pm.value === transaction.paymentMethod)) === null || _paymentMethods$find === void 0 ? void 0 : _paymentMethods$find.label) || transaction.paymentMethod\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold\",\n                children: [\"$\", ((_transaction$total = transaction.total) === null || _transaction$total === void 0 ? void 0 : _transaction$total.toFixed(2)) || '0.00']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${status.color}`,\n                  children: status.label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm font-medium\",\n                children: transaction.status === 'COMPLETED' && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleVoidTransaction(transaction.id),\n                  className: \"text-red-600 hover:text-red-900\",\n                  children: \"Void\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 558,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 21\n              }, this)]\n            }, transaction.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 288,\n    columnNumber: 5\n  }, this);\n};\n_s(POS, \"nj1ZxzqU5rjP0xF7Vfp9LXfGpO0=\");\n_c = POS;\nexport default POS;\nvar _c;\n$RefreshReg$(_c, \"POS\");","map":{"version":3,"names":["React","useState","useEffect","authService","jsxDEV","_jsxDEV","Fragment","_Fragment","POS","_s","activeTab","setActiveTab","transactions","setTransactions","products","setProducts","categories","setCategories","loading","setLoading","cart","setCart","barcodeSearch","setBarcodeSearch","searchResults","setSearchResults","selectedPaymentMethod","setSelectedPaymentMethod","customerPaid","setCustomerPaid","discountAmount","setDiscountAmount","paymentMethods","value","label","fetchProducts","fetchCategories","fetchTransactions","response","getApiInstance","get","data","error","console","handleBarcodeSearch","trim","product","addToCart","alert","handleProductSearch","searchTerm","filtered","filter","name","toLowerCase","includes","barcode","slice","quantity","prevCart","existingItem","find","item","id","map","updateCartItemQuantity","productId","newQuantity","removeFromCart","calculateSubtotal","reduce","total","price","calculateFoodStampEligibleSubtotal","foodStampEligible","calculateNonFoodStampSubtotal","calculateTax","tax","category","cat","_item$product$categor","taxRate","getPaymentBreakdown","foodStampSubtotal","nonFoodStampSubtotal","nonFoodStampTax","_item$product$categor2","foodStampTax","_item$product$categor3","foodStampTotal","nonFoodStampTotal","totalTax","grandTotal","calculateTotal","breakdown","calculateChange","paid","parseFloat","Math","max","handleCompleteTransaction","length","currentUser","getCurrentUser","transactionItems","subtotal","payload","cashier","paymentMethod","taxAmount","status","items","post","handleVoidTransaction","transactionId","window","confirm","put","formatDate","dateString","Date","toLocaleString","formatTransactionStatus","statusMap","color","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","onChange","e","target","onKeyPress","key","placeholder","toFixed","step","method","disabled","transaction","_transaction$cashier","_paymentMethods$find","_transaction$total","transactionDate","username","pm","_c","$RefreshReg$"],"sources":["/Users/srilakshmireddysanikommu/Desktop/G/frontend/src/pages/POS.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport authService from '../services/authService';\n\nconst POS = () => {\n  const [activeTab, setActiveTab] = useState('new');\n  const [transactions, setTransactions] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [cart, setCart] = useState([]);\n  const [barcodeSearch, setBarcodeSearch] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedPaymentMethod, setSelectedPaymentMethod] = useState('CASH');\n  const [customerPaid, setCustomerPaid] = useState('');\n  const [discountAmount, setDiscountAmount] = useState(0);\n\n  const paymentMethods = [\n    { value: 'CASH', label: 'Cash' },\n    { value: 'CREDIT_CARD', label: 'Credit Card' },\n    { value: 'DEBIT_CARD', label: 'Debit Card' },\n    { value: 'CHECK', label: 'Check' },\n    { value: 'FOOD_STAMPS', label: 'Food Stamps' },\n    { value: 'OTHER', label: 'Other' }\n  ];\n\n  useEffect(() => {\n    if (activeTab === 'new') {\n      fetchProducts();\n      fetchCategories();\n    } else {\n      fetchTransactions();\n    }\n  }, [activeTab]);\n\n  const fetchTransactions = async () => {\n    try {\n      setLoading(true);\n      const response = await authService.getApiInstance().get('/pos/transactions');\n      setTransactions(response.data);\n    } catch (error) {\n      console.error('Error fetching transactions:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchProducts = async () => {\n    try {\n      setLoading(true);\n      const response = await authService.getApiInstance().get('/products');\n      setProducts(response.data);\n    } catch (error) {\n      console.error('Error fetching products:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchCategories = async () => {\n    try {\n      const response = await authService.getApiInstance().get('/categories');\n      setCategories(response.data);\n    } catch (error) {\n      console.error('Error fetching categories:', error);\n    }\n  };\n\n  const handleBarcodeSearch = async () => {\n    if (!barcodeSearch.trim()) return;\n    \n    try {\n      const response = await authService.getApiInstance().get(`/products/barcode/${barcodeSearch}`);\n      const product = response.data;\n      addToCart(product, 1);\n      setBarcodeSearch('');\n    } catch (error) {\n      console.error('Product not found:', error);\n      alert('Product not found');\n    }\n  };\n\n  const handleProductSearch = (searchTerm) => {\n    if (!searchTerm.trim()) {\n      setSearchResults([]);\n      return;\n    }\n\n    const filtered = products.filter(product =>\n      product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      product.barcode.includes(searchTerm)\n    );\n    setSearchResults(filtered.slice(0, 10)); // Limit to 10 results\n  };\n\n  const addToCart = (product, quantity = 1) => {\n    setCart(prevCart => {\n      const existingItem = prevCart.find(item => item.product.id === product.id);\n      if (existingItem) {\n        return prevCart.map(item =>\n          item.product.id === product.id\n            ? { ...item, quantity: item.quantity + quantity }\n            : item\n        );\n      } else {\n        return [...prevCart, { product, quantity }];\n      }\n    });\n  };\n\n  const updateCartItemQuantity = (productId, newQuantity) => {\n    if (newQuantity <= 0) {\n      removeFromCart(productId);\n    } else {\n      setCart(prevCart =>\n        prevCart.map(item =>\n          item.product.id === productId\n            ? { ...item, quantity: newQuantity }\n            : item\n        )\n      );\n    }\n  };\n\n  const removeFromCart = (productId) => {\n    setCart(prevCart => prevCart.filter(item => item.product.id !== productId));\n  };\n\n  const calculateSubtotal = () => {\n    return cart.reduce((total, item) => total + (item.product.price * item.quantity), 0);\n  };\n\n  // Calculate tax for food stamp eligible items (no tax when paying with food stamps)\n  const calculateFoodStampEligibleSubtotal = () => {\n    return cart\n      .filter(item => item.product.foodStampEligible)\n      .reduce((total, item) => total + (item.product.price * item.quantity), 0);\n  };\n\n  // Calculate tax for non-food stamp eligible items\n  const calculateNonFoodStampSubtotal = () => {\n    return cart\n      .filter(item => !item.product.foodStampEligible)\n      .reduce((total, item) => total + (item.product.price * item.quantity), 0);\n  };\n\n  const calculateTax = () => {\n    return cart.reduce((tax, item) => {\n      // Find category for this product - need to match by category ID since product has category object\n      const category = categories.find(cat => cat.id === item.product.category?.id);\n      const taxRate = category ? category.taxRate / 100 : 0;\n      \n      // If paying with food stamps, don't apply tax to food stamp eligible items\n      if (selectedPaymentMethod === 'FOOD_STAMPS' && item.product.foodStampEligible) {\n        return tax; // No tax for food stamp eligible items when paying with food stamps\n      }\n      \n      return tax + (item.product.price * item.quantity * taxRate);\n    }, 0);\n  };\n\n  const getPaymentBreakdown = () => {\n    const foodStampSubtotal = calculateFoodStampEligibleSubtotal();\n    const nonFoodStampSubtotal = calculateNonFoodStampSubtotal();\n    \n    // Calculate tax for non-food stamp items\n    const nonFoodStampTax = cart\n      .filter(item => !item.product.foodStampEligible)\n      .reduce((tax, item) => {\n        const category = categories.find(cat => cat.id === item.product.category?.id);\n        const taxRate = category ? category.taxRate / 100 : 0;\n        return tax + (item.product.price * item.quantity * taxRate);\n      }, 0);\n    \n    // Calculate tax for food stamp items (only if not paying with food stamps)\n    const foodStampTax = selectedPaymentMethod === 'FOOD_STAMPS' ? 0 : cart\n      .filter(item => item.product.foodStampEligible)\n      .reduce((tax, item) => {\n        const category = categories.find(cat => cat.id === item.product.category?.id);\n        const taxRate = category ? category.taxRate / 100 : 0;\n        return tax + (item.product.price * item.quantity * taxRate);\n      }, 0);\n\n    return {\n      foodStampSubtotal,\n      foodStampTax,\n      foodStampTotal: foodStampSubtotal + foodStampTax,\n      nonFoodStampSubtotal,\n      nonFoodStampTax,\n      nonFoodStampTotal: nonFoodStampSubtotal + nonFoodStampTax,\n      totalTax: foodStampTax + nonFoodStampTax,\n      grandTotal: foodStampSubtotal + foodStampTax + nonFoodStampSubtotal + nonFoodStampTax - discountAmount\n    };\n  };\n\n  const calculateTotal = () => {\n    const breakdown = getPaymentBreakdown();\n    return breakdown.grandTotal;\n  };\n\n  const calculateChange = () => {\n    const paid = parseFloat(customerPaid) || 0;\n    const total = calculateTotal();\n    return Math.max(0, paid - total);\n  };\n\n  const handleCompleteTransaction = async () => {\n    if (cart.length === 0) {\n      alert('Cart is empty');\n      return;\n    }\n\n    const total = calculateTotal();\n    const paid = parseFloat(customerPaid) || 0;\n\n    if (selectedPaymentMethod === 'CASH' && paid < total) {\n      alert('Insufficient payment amount');\n      return;\n    }\n\n    try {\n      const currentUser = authService.getCurrentUser();\n      const transactionItems = cart.map(item => ({\n        product: { id: item.product.id },\n        quantity: item.quantity,\n        price: item.product.price,\n        subtotal: item.product.price * item.quantity\n      }));\n\n      const payload = {\n        cashier: { id: currentUser.id },\n        paymentMethod: selectedPaymentMethod,\n        subtotal: calculateSubtotal(),\n        taxAmount: calculateTax(),\n        discountAmount: discountAmount,\n        total: total,\n        status: 'COMPLETED',\n        items: transactionItems\n      };\n\n      await authService.getApiInstance().post('/pos/transactions', payload);\n      \n      // Clear cart and reset form\n      setCart([]);\n      setCustomerPaid('');\n      setDiscountAmount(0);\n      setSelectedPaymentMethod('CASH');\n      \n      alert('Transaction completed successfully!');\n    } catch (error) {\n      console.error('Error completing transaction:', error);\n      alert('Error completing transaction');\n    }\n  };\n\n  const handleVoidTransaction = async (transactionId) => {\n    if (window.confirm('Are you sure you want to void this transaction?')) {\n      try {\n        await authService.getApiInstance().put(`/pos/transactions/${transactionId}/void`);\n        fetchTransactions();\n      } catch (error) {\n        console.error('Error voiding transaction:', error);\n      }\n    }\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleString();\n  };\n\n  const formatTransactionStatus = (status) => {\n    const statusMap = {\n      'COMPLETED': { label: 'Completed', color: 'bg-green-100 text-green-800' },\n      'PENDING': { label: 'Pending', color: 'bg-yellow-100 text-yellow-800' },\n      'VOIDED': { label: 'Voided', color: 'bg-red-100 text-red-800' }\n    };\n    return statusMap[status] || { label: status, color: 'bg-gray-100 text-gray-800' };\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"text-center\">Loading...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Point of Sale</h1>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"mb-4\">\n        <nav className=\"flex space-x-8\">\n          <button\n            onClick={() => setActiveTab('new')}\n            className={`py-2 px-1 border-b-2 font-medium text-sm ${\n              activeTab === 'new'\n                ? 'border-indigo-500 text-indigo-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n          >\n            New Transaction\n          </button>\n          <button\n            onClick={() => setActiveTab('history')}\n            className={`py-2 px-1 border-b-2 font-medium text-sm ${\n              activeTab === 'history'\n                ? 'border-indigo-500 text-indigo-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n          >\n            Transaction History\n          </button>\n        </nav>\n      </div>\n\n      {activeTab === 'new' ? (\n        <div className=\"grid grid-cols-2 gap-6\">\n          {/* Product Search and Cart */}\n          <div className=\"space-y-4\">\n            {/* Barcode Search */}\n            <div className=\"bg-white rounded-lg shadow p-4\">\n              <h3 className=\"text-lg font-semibold mb-2\">Barcode Scanner</h3>\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"text\"\n                  value={barcodeSearch}\n                  onChange={(e) => setBarcodeSearch(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && handleBarcodeSearch()}\n                  placeholder=\"Scan or enter barcode\"\n                  className=\"flex-1 border rounded px-3 py-2\"\n                />\n                <button\n                  onClick={handleBarcodeSearch}\n                  className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n                >\n                  Add\n                </button>\n              </div>\n            </div>\n\n            {/* Product Search */}\n            <div className=\"bg-white rounded-lg shadow p-4\">\n              <h3 className=\"text-lg font-semibold mb-2\">Product Search</h3>\n              <input\n                type=\"text\"\n                onChange={(e) => handleProductSearch(e.target.value)}\n                placeholder=\"Search products by name...\"\n                className=\"w-full border rounded px-3 py-2 mb-2\"\n              />\n              {searchResults.length > 0 && (\n                <div className=\"max-h-48 overflow-y-auto border rounded\">\n                  {searchResults.map(product => (\n                    <div\n                      key={product.id}\n                      onClick={() => addToCart(product)}\n                      className=\"p-2 hover:bg-gray-100 cursor-pointer border-b\"\n                    >\n                      <div className=\"font-medium\">{product.name}</div>\n                      <div className=\"text-sm text-gray-500\">\n                        {product.barcode}  ${product.price.toFixed(2)}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Cart */}\n            <div className=\"bg-white rounded-lg shadow p-4\">\n              <h3 className=\"text-lg font-semibold mb-2\">Cart</h3>\n              {cart.length === 0 ? (\n                <p className=\"text-gray-500\">Cart is empty</p>\n              ) : (\n                <div className=\"space-y-2\">\n                  {cart.map(item => (\n                    <div key={item.product.id} className=\"flex items-center justify-between border-b pb-2\">\n                      <div className=\"flex-1\">\n                        <div className=\"font-medium\">{item.product.name}</div>\n                        <div className=\"text-sm text-gray-500\">\n                          ${item.product.price.toFixed(2)} each\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <button\n                          onClick={() => updateCartItemQuantity(item.product.id, item.quantity - 1)}\n                          className=\"bg-gray-200 text-gray-600 w-6 h-6 rounded text-sm\"\n                        >\n                          -\n                        </button>\n                        <span className=\"w-8 text-center\">{item.quantity}</span>\n                        <button\n                          onClick={() => updateCartItemQuantity(item.product.id, item.quantity + 1)}\n                          className=\"bg-gray-200 text-gray-600 w-6 h-6 rounded text-sm\"\n                        >\n                          +\n                        </button>\n                        <button\n                          onClick={() => removeFromCart(item.product.id)}\n                          className=\"bg-red-500 text-white w-6 h-6 rounded text-sm ml-2\"\n                        >\n                          \n                        </button>\n                      </div>\n                      <div className=\"text-right w-20\">\n                        ${(item.product.price * item.quantity).toFixed(2)}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Transaction Summary and Payment */}\n          <div className=\"space-y-4\">\n            <div className=\"bg-white rounded-lg shadow p-4\">\n              <h3 className=\"text-lg font-semibold mb-4\">Transaction Summary</h3>\n              \n              <div className=\"space-y-2 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span>Subtotal:</span>\n                  <span>${calculateSubtotal().toFixed(2)}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Tax:</span>\n                  <span>${calculateTax().toFixed(2)}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Discount:</span>\n                  <span>-${discountAmount.toFixed(2)}</span>\n                </div>\n                <hr />\n                <div className=\"flex justify-between font-bold text-lg\">\n                  <span>Total:</span>\n                  <span>${calculateTotal().toFixed(2)}</span>\n                </div>\n              </div>\n\n              <div className=\"mt-4 space-y-3\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Discount Amount</label>\n                  <input\n                    type=\"number\"\n                    step=\"0.01\"\n                    value={discountAmount}\n                    onChange={(e) => setDiscountAmount(parseFloat(e.target.value) || 0)}\n                    className=\"w-full border rounded px-3 py-2\"\n                    placeholder=\"0.00\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Payment Method</label>\n                  <select\n                    value={selectedPaymentMethod}\n                    onChange={(e) => setSelectedPaymentMethod(e.target.value)}\n                    className=\"w-full border rounded px-3 py-2\"\n                  >\n                    {paymentMethods.map(method => (\n                      <option key={method.value} value={method.value}>\n                        {method.label}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                {selectedPaymentMethod === 'CASH' && (\n                  <>\n                    <div>\n                      <label className=\"block text-sm font-medium mb-1\">Amount Paid</label>\n                      <input\n                        type=\"number\"\n                        step=\"0.01\"\n                        value={customerPaid}\n                        onChange={(e) => setCustomerPaid(e.target.value)}\n                        className=\"w-full border rounded px-3 py-2\"\n                        placeholder=\"0.00\"\n                      />\n                    </div>\n                    {customerPaid && (\n                      <div className=\"text-lg font-semibold\">\n                        Change: ${calculateChange().toFixed(2)}\n                      </div>\n                    )}\n                  </>\n                )}\n\n                <button\n                  onClick={handleCompleteTransaction}\n                  disabled={cart.length === 0}\n                  className=\"w-full bg-green-500 text-white py-3 rounded font-semibold hover:bg-green-600 disabled:bg-gray-300\"\n                >\n                  Complete Transaction\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      ) : (\n        /* Transaction History */\n        <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n          <table className=\"min-w-full\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Transaction #\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Date/Time\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Cashier\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Payment Method\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Total\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Status\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {transactions.map((transaction) => {\n                const status = formatTransactionStatus(transaction.status);\n                return (\n                  <tr key={transaction.id}>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                      #{transaction.id}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {transaction.transactionDate ? formatDate(transaction.transactionDate) : 'N/A'}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {transaction.cashier?.username || 'Unknown'}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {paymentMethods.find(pm => pm.value === transaction.paymentMethod)?.label || transaction.paymentMethod}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold\">\n                      ${transaction.total?.toFixed(2) || '0.00'}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${status.color}`}>\n                        {status.label}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      {transaction.status === 'COMPLETED' && (\n                        <button\n                          onClick={() => handleVoidTransaction(transaction.id)}\n                          className=\"text-red-600 hover:text-red-900\"\n                        >\n                          Void\n                        </button>\n                      )}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default POS; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,WAAW,MAAM,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAElD,MAAMC,GAAG,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACW,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACe,UAAU,EAAEC,aAAa,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACiB,OAAO,EAAEC,UAAU,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACmB,IAAI,EAAEC,OAAO,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACqB,aAAa,EAAEC,gBAAgB,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACuB,aAAa,EAAEC,gBAAgB,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACyB,qBAAqB,EAAEC,wBAAwB,CAAC,GAAG1B,QAAQ,CAAC,MAAM,CAAC;EAC1E,MAAM,CAAC2B,YAAY,EAAEC,eAAe,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAAC6B,cAAc,EAAEC,iBAAiB,CAAC,GAAG9B,QAAQ,CAAC,CAAC,CAAC;EAEvD,MAAM+B,cAAc,GAAG,CACrB;IAAEC,KAAK,EAAE,MAAM;IAAEC,KAAK,EAAE;EAAO,CAAC,EAChC;IAAED,KAAK,EAAE,aAAa;IAAEC,KAAK,EAAE;EAAc,CAAC,EAC9C;IAAED,KAAK,EAAE,YAAY;IAAEC,KAAK,EAAE;EAAa,CAAC,EAC5C;IAAED,KAAK,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAQ,CAAC,EAClC;IAAED,KAAK,EAAE,aAAa;IAAEC,KAAK,EAAE;EAAc,CAAC,EAC9C;IAAED,KAAK,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAQ,CAAC,CACnC;EAEDhC,SAAS,CAAC,MAAM;IACd,IAAIQ,SAAS,KAAK,KAAK,EAAE;MACvByB,aAAa,CAAC,CAAC;MACfC,eAAe,CAAC,CAAC;IACnB,CAAC,MAAM;MACLC,iBAAiB,CAAC,CAAC;IACrB;EACF,CAAC,EAAE,CAAC3B,SAAS,CAAC,CAAC;EAEf,MAAM2B,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI;MACFlB,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMmB,QAAQ,GAAG,MAAMnC,WAAW,CAACoC,cAAc,CAAC,CAAC,CAACC,GAAG,CAAC,mBAAmB,CAAC;MAC5E3B,eAAe,CAACyB,QAAQ,CAACG,IAAI,CAAC;IAChC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IACtD,CAAC,SAAS;MACRvB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMgB,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI;MACFhB,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMmB,QAAQ,GAAG,MAAMnC,WAAW,CAACoC,cAAc,CAAC,CAAC,CAACC,GAAG,CAAC,WAAW,CAAC;MACpEzB,WAAW,CAACuB,QAAQ,CAACG,IAAI,CAAC;IAC5B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAClD,CAAC,SAAS;MACRvB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMiB,eAAe,GAAG,MAAAA,CAAA,KAAY;IAClC,IAAI;MACF,MAAME,QAAQ,GAAG,MAAMnC,WAAW,CAACoC,cAAc,CAAC,CAAC,CAACC,GAAG,CAAC,aAAa,CAAC;MACtEvB,aAAa,CAACqB,QAAQ,CAACG,IAAI,CAAC;IAC9B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IACpD;EACF,CAAC;EAED,MAAME,mBAAmB,GAAG,MAAAA,CAAA,KAAY;IACtC,IAAI,CAACtB,aAAa,CAACuB,IAAI,CAAC,CAAC,EAAE;IAE3B,IAAI;MACF,MAAMP,QAAQ,GAAG,MAAMnC,WAAW,CAACoC,cAAc,CAAC,CAAC,CAACC,GAAG,CAAC,qBAAqBlB,aAAa,EAAE,CAAC;MAC7F,MAAMwB,OAAO,GAAGR,QAAQ,CAACG,IAAI;MAC7BM,SAAS,CAACD,OAAO,EAAE,CAAC,CAAC;MACrBvB,gBAAgB,CAAC,EAAE,CAAC;IACtB,CAAC,CAAC,OAAOmB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;MAC1CM,KAAK,CAAC,mBAAmB,CAAC;IAC5B;EACF,CAAC;EAED,MAAMC,mBAAmB,GAAIC,UAAU,IAAK;IAC1C,IAAI,CAACA,UAAU,CAACL,IAAI,CAAC,CAAC,EAAE;MACtBpB,gBAAgB,CAAC,EAAE,CAAC;MACpB;IACF;IAEA,MAAM0B,QAAQ,GAAGrC,QAAQ,CAACsC,MAAM,CAACN,OAAO,IACtCA,OAAO,CAACO,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACL,UAAU,CAACI,WAAW,CAAC,CAAC,CAAC,IAC7DR,OAAO,CAACU,OAAO,CAACD,QAAQ,CAACL,UAAU,CACrC,CAAC;IACDzB,gBAAgB,CAAC0B,QAAQ,CAACM,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;EAC3C,CAAC;EAED,MAAMV,SAAS,GAAGA,CAACD,OAAO,EAAEY,QAAQ,GAAG,CAAC,KAAK;IAC3CrC,OAAO,CAACsC,QAAQ,IAAI;MAClB,MAAMC,YAAY,GAAGD,QAAQ,CAACE,IAAI,CAACC,IAAI,IAAIA,IAAI,CAAChB,OAAO,CAACiB,EAAE,KAAKjB,OAAO,CAACiB,EAAE,CAAC;MAC1E,IAAIH,YAAY,EAAE;QAChB,OAAOD,QAAQ,CAACK,GAAG,CAACF,IAAI,IACtBA,IAAI,CAAChB,OAAO,CAACiB,EAAE,KAAKjB,OAAO,CAACiB,EAAE,GAC1B;UAAE,GAAGD,IAAI;UAAEJ,QAAQ,EAAEI,IAAI,CAACJ,QAAQ,GAAGA;QAAS,CAAC,GAC/CI,IACN,CAAC;MACH,CAAC,MAAM;QACL,OAAO,CAAC,GAAGH,QAAQ,EAAE;UAAEb,OAAO;UAAEY;QAAS,CAAC,CAAC;MAC7C;IACF,CAAC,CAAC;EACJ,CAAC;EAED,MAAMO,sBAAsB,GAAGA,CAACC,SAAS,EAAEC,WAAW,KAAK;IACzD,IAAIA,WAAW,IAAI,CAAC,EAAE;MACpBC,cAAc,CAACF,SAAS,CAAC;IAC3B,CAAC,MAAM;MACL7C,OAAO,CAACsC,QAAQ,IACdA,QAAQ,CAACK,GAAG,CAACF,IAAI,IACfA,IAAI,CAAChB,OAAO,CAACiB,EAAE,KAAKG,SAAS,GACzB;QAAE,GAAGJ,IAAI;QAAEJ,QAAQ,EAAES;MAAY,CAAC,GAClCL,IACN,CACF,CAAC;IACH;EACF,CAAC;EAED,MAAMM,cAAc,GAAIF,SAAS,IAAK;IACpC7C,OAAO,CAACsC,QAAQ,IAAIA,QAAQ,CAACP,MAAM,CAACU,IAAI,IAAIA,IAAI,CAAChB,OAAO,CAACiB,EAAE,KAAKG,SAAS,CAAC,CAAC;EAC7E,CAAC;EAED,MAAMG,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,OAAOjD,IAAI,CAACkD,MAAM,CAAC,CAACC,KAAK,EAAET,IAAI,KAAKS,KAAK,GAAIT,IAAI,CAAChB,OAAO,CAAC0B,KAAK,GAAGV,IAAI,CAACJ,QAAS,EAAE,CAAC,CAAC;EACtF,CAAC;;EAED;EACA,MAAMe,kCAAkC,GAAGA,CAAA,KAAM;IAC/C,OAAOrD,IAAI,CACRgC,MAAM,CAACU,IAAI,IAAIA,IAAI,CAAChB,OAAO,CAAC4B,iBAAiB,CAAC,CAC9CJ,MAAM,CAAC,CAACC,KAAK,EAAET,IAAI,KAAKS,KAAK,GAAIT,IAAI,CAAChB,OAAO,CAAC0B,KAAK,GAAGV,IAAI,CAACJ,QAAS,EAAE,CAAC,CAAC;EAC7E,CAAC;;EAED;EACA,MAAMiB,6BAA6B,GAAGA,CAAA,KAAM;IAC1C,OAAOvD,IAAI,CACRgC,MAAM,CAACU,IAAI,IAAI,CAACA,IAAI,CAAChB,OAAO,CAAC4B,iBAAiB,CAAC,CAC/CJ,MAAM,CAAC,CAACC,KAAK,EAAET,IAAI,KAAKS,KAAK,GAAIT,IAAI,CAAChB,OAAO,CAAC0B,KAAK,GAAGV,IAAI,CAACJ,QAAS,EAAE,CAAC,CAAC;EAC7E,CAAC;EAED,MAAMkB,YAAY,GAAGA,CAAA,KAAM;IACzB,OAAOxD,IAAI,CAACkD,MAAM,CAAC,CAACO,GAAG,EAAEf,IAAI,KAAK;MAChC;MACA,MAAMgB,QAAQ,GAAG9D,UAAU,CAAC6C,IAAI,CAACkB,GAAG;QAAA,IAAAC,qBAAA;QAAA,OAAID,GAAG,CAAChB,EAAE,OAAAiB,qBAAA,GAAKlB,IAAI,CAAChB,OAAO,CAACgC,QAAQ,cAAAE,qBAAA,uBAArBA,qBAAA,CAAuBjB,EAAE;MAAA,EAAC;MAC7E,MAAMkB,OAAO,GAAGH,QAAQ,GAAGA,QAAQ,CAACG,OAAO,GAAG,GAAG,GAAG,CAAC;;MAErD;MACA,IAAIvD,qBAAqB,KAAK,aAAa,IAAIoC,IAAI,CAAChB,OAAO,CAAC4B,iBAAiB,EAAE;QAC7E,OAAOG,GAAG,CAAC,CAAC;MACd;MAEA,OAAOA,GAAG,GAAIf,IAAI,CAAChB,OAAO,CAAC0B,KAAK,GAAGV,IAAI,CAACJ,QAAQ,GAAGuB,OAAQ;IAC7D,CAAC,EAAE,CAAC,CAAC;EACP,CAAC;EAED,MAAMC,mBAAmB,GAAGA,CAAA,KAAM;IAChC,MAAMC,iBAAiB,GAAGV,kCAAkC,CAAC,CAAC;IAC9D,MAAMW,oBAAoB,GAAGT,6BAA6B,CAAC,CAAC;;IAE5D;IACA,MAAMU,eAAe,GAAGjE,IAAI,CACzBgC,MAAM,CAACU,IAAI,IAAI,CAACA,IAAI,CAAChB,OAAO,CAAC4B,iBAAiB,CAAC,CAC/CJ,MAAM,CAAC,CAACO,GAAG,EAAEf,IAAI,KAAK;MACrB,MAAMgB,QAAQ,GAAG9D,UAAU,CAAC6C,IAAI,CAACkB,GAAG;QAAA,IAAAO,sBAAA;QAAA,OAAIP,GAAG,CAAChB,EAAE,OAAAuB,sBAAA,GAAKxB,IAAI,CAAChB,OAAO,CAACgC,QAAQ,cAAAQ,sBAAA,uBAArBA,sBAAA,CAAuBvB,EAAE;MAAA,EAAC;MAC7E,MAAMkB,OAAO,GAAGH,QAAQ,GAAGA,QAAQ,CAACG,OAAO,GAAG,GAAG,GAAG,CAAC;MACrD,OAAOJ,GAAG,GAAIf,IAAI,CAAChB,OAAO,CAAC0B,KAAK,GAAGV,IAAI,CAACJ,QAAQ,GAAGuB,OAAQ;IAC7D,CAAC,EAAE,CAAC,CAAC;;IAEP;IACA,MAAMM,YAAY,GAAG7D,qBAAqB,KAAK,aAAa,GAAG,CAAC,GAAGN,IAAI,CACpEgC,MAAM,CAACU,IAAI,IAAIA,IAAI,CAAChB,OAAO,CAAC4B,iBAAiB,CAAC,CAC9CJ,MAAM,CAAC,CAACO,GAAG,EAAEf,IAAI,KAAK;MACrB,MAAMgB,QAAQ,GAAG9D,UAAU,CAAC6C,IAAI,CAACkB,GAAG;QAAA,IAAAS,sBAAA;QAAA,OAAIT,GAAG,CAAChB,EAAE,OAAAyB,sBAAA,GAAK1B,IAAI,CAAChB,OAAO,CAACgC,QAAQ,cAAAU,sBAAA,uBAArBA,sBAAA,CAAuBzB,EAAE;MAAA,EAAC;MAC7E,MAAMkB,OAAO,GAAGH,QAAQ,GAAGA,QAAQ,CAACG,OAAO,GAAG,GAAG,GAAG,CAAC;MACrD,OAAOJ,GAAG,GAAIf,IAAI,CAAChB,OAAO,CAAC0B,KAAK,GAAGV,IAAI,CAACJ,QAAQ,GAAGuB,OAAQ;IAC7D,CAAC,EAAE,CAAC,CAAC;IAEP,OAAO;MACLE,iBAAiB;MACjBI,YAAY;MACZE,cAAc,EAAEN,iBAAiB,GAAGI,YAAY;MAChDH,oBAAoB;MACpBC,eAAe;MACfK,iBAAiB,EAAEN,oBAAoB,GAAGC,eAAe;MACzDM,QAAQ,EAAEJ,YAAY,GAAGF,eAAe;MACxCO,UAAU,EAAET,iBAAiB,GAAGI,YAAY,GAAGH,oBAAoB,GAAGC,eAAe,GAAGvD;IAC1F,CAAC;EACH,CAAC;EAED,MAAM+D,cAAc,GAAGA,CAAA,KAAM;IAC3B,MAAMC,SAAS,GAAGZ,mBAAmB,CAAC,CAAC;IACvC,OAAOY,SAAS,CAACF,UAAU;EAC7B,CAAC;EAED,MAAMG,eAAe,GAAGA,CAAA,KAAM;IAC5B,MAAMC,IAAI,GAAGC,UAAU,CAACrE,YAAY,CAAC,IAAI,CAAC;IAC1C,MAAM2C,KAAK,GAAGsB,cAAc,CAAC,CAAC;IAC9B,OAAOK,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEH,IAAI,GAAGzB,KAAK,CAAC;EAClC,CAAC;EAED,MAAM6B,yBAAyB,GAAG,MAAAA,CAAA,KAAY;IAC5C,IAAIhF,IAAI,CAACiF,MAAM,KAAK,CAAC,EAAE;MACrBrD,KAAK,CAAC,eAAe,CAAC;MACtB;IACF;IAEA,MAAMuB,KAAK,GAAGsB,cAAc,CAAC,CAAC;IAC9B,MAAMG,IAAI,GAAGC,UAAU,CAACrE,YAAY,CAAC,IAAI,CAAC;IAE1C,IAAIF,qBAAqB,KAAK,MAAM,IAAIsE,IAAI,GAAGzB,KAAK,EAAE;MACpDvB,KAAK,CAAC,6BAA6B,CAAC;MACpC;IACF;IAEA,IAAI;MACF,MAAMsD,WAAW,GAAGnG,WAAW,CAACoG,cAAc,CAAC,CAAC;MAChD,MAAMC,gBAAgB,GAAGpF,IAAI,CAAC4C,GAAG,CAACF,IAAI,KAAK;QACzChB,OAAO,EAAE;UAAEiB,EAAE,EAAED,IAAI,CAAChB,OAAO,CAACiB;QAAG,CAAC;QAChCL,QAAQ,EAAEI,IAAI,CAACJ,QAAQ;QACvBc,KAAK,EAAEV,IAAI,CAAChB,OAAO,CAAC0B,KAAK;QACzBiC,QAAQ,EAAE3C,IAAI,CAAChB,OAAO,CAAC0B,KAAK,GAAGV,IAAI,CAACJ;MACtC,CAAC,CAAC,CAAC;MAEH,MAAMgD,OAAO,GAAG;QACdC,OAAO,EAAE;UAAE5C,EAAE,EAAEuC,WAAW,CAACvC;QAAG,CAAC;QAC/B6C,aAAa,EAAElF,qBAAqB;QACpC+E,QAAQ,EAAEpC,iBAAiB,CAAC,CAAC;QAC7BwC,SAAS,EAAEjC,YAAY,CAAC,CAAC;QACzB9C,cAAc,EAAEA,cAAc;QAC9ByC,KAAK,EAAEA,KAAK;QACZuC,MAAM,EAAE,WAAW;QACnBC,KAAK,EAAEP;MACT,CAAC;MAED,MAAMrG,WAAW,CAACoC,cAAc,CAAC,CAAC,CAACyE,IAAI,CAAC,mBAAmB,EAAEN,OAAO,CAAC;;MAErE;MACArF,OAAO,CAAC,EAAE,CAAC;MACXQ,eAAe,CAAC,EAAE,CAAC;MACnBE,iBAAiB,CAAC,CAAC,CAAC;MACpBJ,wBAAwB,CAAC,MAAM,CAAC;MAEhCqB,KAAK,CAAC,qCAAqC,CAAC;IAC9C,CAAC,CAAC,OAAON,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrDM,KAAK,CAAC,8BAA8B,CAAC;IACvC;EACF,CAAC;EAED,MAAMiE,qBAAqB,GAAG,MAAOC,aAAa,IAAK;IACrD,IAAIC,MAAM,CAACC,OAAO,CAAC,iDAAiD,CAAC,EAAE;MACrE,IAAI;QACF,MAAMjH,WAAW,CAACoC,cAAc,CAAC,CAAC,CAAC8E,GAAG,CAAC,qBAAqBH,aAAa,OAAO,CAAC;QACjF7E,iBAAiB,CAAC,CAAC;MACrB,CAAC,CAAC,OAAOK,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MACpD;IACF;EACF,CAAC;EAED,MAAM4E,UAAU,GAAIC,UAAU,IAAK;IACjC,OAAO,IAAIC,IAAI,CAACD,UAAU,CAAC,CAACE,cAAc,CAAC,CAAC;EAC9C,CAAC;EAED,MAAMC,uBAAuB,GAAIZ,MAAM,IAAK;IAC1C,MAAMa,SAAS,GAAG;MAChB,WAAW,EAAE;QAAEzF,KAAK,EAAE,WAAW;QAAE0F,KAAK,EAAE;MAA8B,CAAC;MACzE,SAAS,EAAE;QAAE1F,KAAK,EAAE,SAAS;QAAE0F,KAAK,EAAE;MAAgC,CAAC;MACvE,QAAQ,EAAE;QAAE1F,KAAK,EAAE,QAAQ;QAAE0F,KAAK,EAAE;MAA0B;IAChE,CAAC;IACD,OAAOD,SAAS,CAACb,MAAM,CAAC,IAAI;MAAE5E,KAAK,EAAE4E,MAAM;MAAEc,KAAK,EAAE;IAA4B,CAAC;EACnF,CAAC;EAED,IAAI1G,OAAO,EAAE;IACX,oBACEb,OAAA;MAAKwH,SAAS,EAAC,KAAK;MAAAC,QAAA,eAClBzH,OAAA;QAAKwH,SAAS,EAAC,aAAa;QAAAC,QAAA,EAAC;MAAU;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1C,CAAC;EAEV;EAEA,oBACE7H,OAAA;IAAKwH,SAAS,EAAC,KAAK;IAAAC,QAAA,gBAClBzH,OAAA;MAAKwH,SAAS,EAAC,wCAAwC;MAAAC,QAAA,eACrDzH,OAAA;QAAIwH,SAAS,EAAC,kCAAkC;QAAAC,QAAA,EAAC;MAAa;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChE,CAAC,eAGN7H,OAAA;MAAKwH,SAAS,EAAC,MAAM;MAAAC,QAAA,eACnBzH,OAAA;QAAKwH,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7BzH,OAAA;UACE8H,OAAO,EAAEA,CAAA,KAAMxH,YAAY,CAAC,KAAK,CAAE;UACnCkH,SAAS,EAAE,4CACTnH,SAAS,KAAK,KAAK,GACf,mCAAmC,GACnC,4EAA4E,EAC/E;UAAAoH,QAAA,EACJ;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACT7H,OAAA;UACE8H,OAAO,EAAEA,CAAA,KAAMxH,YAAY,CAAC,SAAS,CAAE;UACvCkH,SAAS,EAAE,4CACTnH,SAAS,KAAK,SAAS,GACnB,mCAAmC,GACnC,4EAA4E,EAC/E;UAAAoH,QAAA,EACJ;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAELxH,SAAS,KAAK,KAAK,gBAClBL,OAAA;MAAKwH,SAAS,EAAC,wBAAwB;MAAAC,QAAA,gBAErCzH,OAAA;QAAKwH,SAAS,EAAC,WAAW;QAAAC,QAAA,gBAExBzH,OAAA;UAAKwH,SAAS,EAAC,gCAAgC;UAAAC,QAAA,gBAC7CzH,OAAA;YAAIwH,SAAS,EAAC,4BAA4B;YAAAC,QAAA,EAAC;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC/D7H,OAAA;YAAKwH,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBzH,OAAA;cACE+H,IAAI,EAAC,MAAM;cACXnG,KAAK,EAAEX,aAAc;cACrB+G,QAAQ,EAAGC,CAAC,IAAK/G,gBAAgB,CAAC+G,CAAC,CAACC,MAAM,CAACtG,KAAK,CAAE;cAClDuG,UAAU,EAAGF,CAAC,IAAKA,CAAC,CAACG,GAAG,KAAK,OAAO,IAAI7F,mBAAmB,CAAC,CAAE;cAC9D8F,WAAW,EAAC,uBAAuB;cACnCb,SAAS,EAAC;YAAiC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5C,CAAC,eACF7H,OAAA;cACE8H,OAAO,EAAEvF,mBAAoB;cAC7BiF,SAAS,EAAC,4DAA4D;cAAAC,QAAA,EACvE;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGN7H,OAAA;UAAKwH,SAAS,EAAC,gCAAgC;UAAAC,QAAA,gBAC7CzH,OAAA;YAAIwH,SAAS,EAAC,4BAA4B;YAAAC,QAAA,EAAC;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC9D7H,OAAA;YACE+H,IAAI,EAAC,MAAM;YACXC,QAAQ,EAAGC,CAAC,IAAKrF,mBAAmB,CAACqF,CAAC,CAACC,MAAM,CAACtG,KAAK,CAAE;YACrDyG,WAAW,EAAC,4BAA4B;YACxCb,SAAS,EAAC;UAAsC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjD,CAAC,EACD1G,aAAa,CAAC6E,MAAM,GAAG,CAAC,iBACvBhG,OAAA;YAAKwH,SAAS,EAAC,yCAAyC;YAAAC,QAAA,EACrDtG,aAAa,CAACwC,GAAG,CAAClB,OAAO,iBACxBzC,OAAA;cAEE8H,OAAO,EAAEA,CAAA,KAAMpF,SAAS,CAACD,OAAO,CAAE;cAClC+E,SAAS,EAAC,+CAA+C;cAAAC,QAAA,gBAEzDzH,OAAA;gBAAKwH,SAAS,EAAC,aAAa;gBAAAC,QAAA,EAAEhF,OAAO,CAACO;cAAI;gBAAA0E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACjD7H,OAAA;gBAAKwH,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,GACnChF,OAAO,CAACU,OAAO,EAAC,WAAI,EAACV,OAAO,CAAC0B,KAAK,CAACmE,OAAO,CAAC,CAAC,CAAC;cAAA;gBAAAZ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3C,CAAC;YAAA,GAPDpF,OAAO,CAACiB,EAAE;cAAAgE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAQZ,CACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eAGN7H,OAAA;UAAKwH,SAAS,EAAC,gCAAgC;UAAAC,QAAA,gBAC7CzH,OAAA;YAAIwH,SAAS,EAAC,4BAA4B;YAAAC,QAAA,EAAC;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EACnD9G,IAAI,CAACiF,MAAM,KAAK,CAAC,gBAChBhG,OAAA;YAAGwH,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,gBAE9C7H,OAAA;YAAKwH,SAAS,EAAC,WAAW;YAAAC,QAAA,EACvB1G,IAAI,CAAC4C,GAAG,CAACF,IAAI,iBACZzD,OAAA;cAA2BwH,SAAS,EAAC,iDAAiD;cAAAC,QAAA,gBACpFzH,OAAA;gBAAKwH,SAAS,EAAC,QAAQ;gBAAAC,QAAA,gBACrBzH,OAAA;kBAAKwH,SAAS,EAAC,aAAa;kBAAAC,QAAA,EAAEhE,IAAI,CAAChB,OAAO,CAACO;gBAAI;kBAAA0E,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACtD7H,OAAA;kBAAKwH,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,GAAC,GACpC,EAAChE,IAAI,CAAChB,OAAO,CAAC0B,KAAK,CAACmE,OAAO,CAAC,CAAC,CAAC,EAAC,OAClC;gBAAA;kBAAAZ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eACN7H,OAAA;gBAAKwH,SAAS,EAAC,yBAAyB;gBAAAC,QAAA,gBACtCzH,OAAA;kBACE8H,OAAO,EAAEA,CAAA,KAAMlE,sBAAsB,CAACH,IAAI,CAAChB,OAAO,CAACiB,EAAE,EAAED,IAAI,CAACJ,QAAQ,GAAG,CAAC,CAAE;kBAC1EmE,SAAS,EAAC,mDAAmD;kBAAAC,QAAA,EAC9D;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACT7H,OAAA;kBAAMwH,SAAS,EAAC,iBAAiB;kBAAAC,QAAA,EAAEhE,IAAI,CAACJ;gBAAQ;kBAAAqE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACxD7H,OAAA;kBACE8H,OAAO,EAAEA,CAAA,KAAMlE,sBAAsB,CAACH,IAAI,CAAChB,OAAO,CAACiB,EAAE,EAAED,IAAI,CAACJ,QAAQ,GAAG,CAAC,CAAE;kBAC1EmE,SAAS,EAAC,mDAAmD;kBAAAC,QAAA,EAC9D;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACT7H,OAAA;kBACE8H,OAAO,EAAEA,CAAA,KAAM/D,cAAc,CAACN,IAAI,CAAChB,OAAO,CAACiB,EAAE,CAAE;kBAC/C8D,SAAS,EAAC,oDAAoD;kBAAAC,QAAA,EAC/D;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC,eACN7H,OAAA;gBAAKwH,SAAS,EAAC,iBAAiB;gBAAAC,QAAA,GAAC,GAC9B,EAAC,CAAChE,IAAI,CAAChB,OAAO,CAAC0B,KAAK,GAAGV,IAAI,CAACJ,QAAQ,EAAEiF,OAAO,CAAC,CAAC,CAAC;cAAA;gBAAAZ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC9C,CAAC;YAAA,GA9BEpE,IAAI,CAAChB,OAAO,CAACiB,EAAE;cAAAgE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OA+BpB,CACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGN7H,OAAA;QAAKwH,SAAS,EAAC,WAAW;QAAAC,QAAA,eACxBzH,OAAA;UAAKwH,SAAS,EAAC,gCAAgC;UAAAC,QAAA,gBAC7CzH,OAAA;YAAIwH,SAAS,EAAC,4BAA4B;YAAAC,QAAA,EAAC;UAAmB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAEnE7H,OAAA;YAAKwH,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBAChCzH,OAAA;cAAKwH,SAAS,EAAC,sBAAsB;cAAAC,QAAA,gBACnCzH,OAAA;gBAAAyH,QAAA,EAAM;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACtB7H,OAAA;gBAAAyH,QAAA,GAAM,GAAC,EAACzD,iBAAiB,CAAC,CAAC,CAACsE,OAAO,CAAC,CAAC,CAAC;cAAA;gBAAAZ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3C,CAAC,eACN7H,OAAA;cAAKwH,SAAS,EAAC,sBAAsB;cAAAC,QAAA,gBACnCzH,OAAA;gBAAAyH,QAAA,EAAM;cAAI;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACjB7H,OAAA;gBAAAyH,QAAA,GAAM,GAAC,EAAClD,YAAY,CAAC,CAAC,CAAC+D,OAAO,CAAC,CAAC,CAAC;cAAA;gBAAAZ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtC,CAAC,eACN7H,OAAA;cAAKwH,SAAS,EAAC,sBAAsB;cAAAC,QAAA,gBACnCzH,OAAA;gBAAAyH,QAAA,EAAM;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACtB7H,OAAA;gBAAAyH,QAAA,GAAM,IAAE,EAAChG,cAAc,CAAC6G,OAAO,CAAC,CAAC,CAAC;cAAA;gBAAAZ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvC,CAAC,eACN7H,OAAA;cAAA0H,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACN7H,OAAA;cAAKwH,SAAS,EAAC,wCAAwC;cAAAC,QAAA,gBACrDzH,OAAA;gBAAAyH,QAAA,EAAM;cAAM;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACnB7H,OAAA;gBAAAyH,QAAA,GAAM,GAAC,EAACjC,cAAc,CAAC,CAAC,CAAC8C,OAAO,CAAC,CAAC,CAAC;cAAA;gBAAAZ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAEN7H,OAAA;YAAKwH,SAAS,EAAC,gBAAgB;YAAAC,QAAA,gBAC7BzH,OAAA;cAAAyH,QAAA,gBACEzH,OAAA;gBAAOwH,SAAS,EAAC,gCAAgC;gBAAAC,QAAA,EAAC;cAAe;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACzE7H,OAAA;gBACE+H,IAAI,EAAC,QAAQ;gBACbQ,IAAI,EAAC,MAAM;gBACX3G,KAAK,EAAEH,cAAe;gBACtBuG,QAAQ,EAAGC,CAAC,IAAKvG,iBAAiB,CAACkE,UAAU,CAACqC,CAAC,CAACC,MAAM,CAACtG,KAAK,CAAC,IAAI,CAAC,CAAE;gBACpE4F,SAAS,EAAC,iCAAiC;gBAC3Ca,WAAW,EAAC;cAAM;gBAAAX,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eAEN7H,OAAA;cAAAyH,QAAA,gBACEzH,OAAA;gBAAOwH,SAAS,EAAC,gCAAgC;gBAAAC,QAAA,EAAC;cAAc;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACxE7H,OAAA;gBACE4B,KAAK,EAAEP,qBAAsB;gBAC7B2G,QAAQ,EAAGC,CAAC,IAAK3G,wBAAwB,CAAC2G,CAAC,CAACC,MAAM,CAACtG,KAAK,CAAE;gBAC1D4F,SAAS,EAAC,iCAAiC;gBAAAC,QAAA,EAE1C9F,cAAc,CAACgC,GAAG,CAAC6E,MAAM,iBACxBxI,OAAA;kBAA2B4B,KAAK,EAAE4G,MAAM,CAAC5G,KAAM;kBAAA6F,QAAA,EAC5Ce,MAAM,CAAC3G;gBAAK,GADF2G,MAAM,CAAC5G,KAAK;kBAAA8F,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAEjB,CACT;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,EAELxG,qBAAqB,KAAK,MAAM,iBAC/BrB,OAAA,CAAAE,SAAA;cAAAuH,QAAA,gBACEzH,OAAA;gBAAAyH,QAAA,gBACEzH,OAAA;kBAAOwH,SAAS,EAAC,gCAAgC;kBAAAC,QAAA,EAAC;gBAAW;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACrE7H,OAAA;kBACE+H,IAAI,EAAC,QAAQ;kBACbQ,IAAI,EAAC,MAAM;kBACX3G,KAAK,EAAEL,YAAa;kBACpByG,QAAQ,EAAGC,CAAC,IAAKzG,eAAe,CAACyG,CAAC,CAACC,MAAM,CAACtG,KAAK,CAAE;kBACjD4F,SAAS,EAAC,iCAAiC;kBAC3Ca,WAAW,EAAC;gBAAM;kBAAAX,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnB,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,EACLtG,YAAY,iBACXvB,OAAA;gBAAKwH,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,GAAC,WAC5B,EAAC/B,eAAe,CAAC,CAAC,CAAC4C,OAAO,CAAC,CAAC,CAAC;cAAA;gBAAAZ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnC,CACN;YAAA,eACD,CACH,eAED7H,OAAA;cACE8H,OAAO,EAAE/B,yBAA0B;cACnC0C,QAAQ,EAAE1H,IAAI,CAACiF,MAAM,KAAK,CAAE;cAC5BwB,SAAS,EAAC,mGAAmG;cAAAC,QAAA,EAC9G;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;IAAA;IAEN;IACA7H,OAAA;MAAKwH,SAAS,EAAC,4CAA4C;MAAAC,QAAA,eACzDzH,OAAA;QAAOwH,SAAS,EAAC,YAAY;QAAAC,QAAA,gBAC3BzH,OAAA;UAAOwH,SAAS,EAAC,YAAY;UAAAC,QAAA,eAC3BzH,OAAA;YAAAyH,QAAA,gBACEzH,OAAA;cAAIwH,SAAS,EAAC,gFAAgF;cAAAC,QAAA,EAAC;YAE/F;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACL7H,OAAA;cAAIwH,SAAS,EAAC,gFAAgF;cAAAC,QAAA,EAAC;YAE/F;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACL7H,OAAA;cAAIwH,SAAS,EAAC,gFAAgF;cAAAC,QAAA,EAAC;YAE/F;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACL7H,OAAA;cAAIwH,SAAS,EAAC,gFAAgF;cAAAC,QAAA,EAAC;YAE/F;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACL7H,OAAA;cAAIwH,SAAS,EAAC,gFAAgF;cAAAC,QAAA,EAAC;YAE/F;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACL7H,OAAA;cAAIwH,SAAS,EAAC,gFAAgF;cAAAC,QAAA,EAAC;YAE/F;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACL7H,OAAA;cAAIwH,SAAS,EAAC,gFAAgF;cAAAC,QAAA,EAAC;YAE/F;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACR7H,OAAA;UAAOwH,SAAS,EAAC,mCAAmC;UAAAC,QAAA,EACjDlH,YAAY,CAACoD,GAAG,CAAE+E,WAAW,IAAK;YAAA,IAAAC,oBAAA,EAAAC,oBAAA,EAAAC,kBAAA;YACjC,MAAMpC,MAAM,GAAGY,uBAAuB,CAACqB,WAAW,CAACjC,MAAM,CAAC;YAC1D,oBACEzG,OAAA;cAAAyH,QAAA,gBACEzH,OAAA;gBAAIwH,SAAS,EAAC,+DAA+D;gBAAAC,QAAA,GAAC,GAC3E,EAACiB,WAAW,CAAChF,EAAE;cAAA;gBAAAgE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACd,CAAC,eACL7H,OAAA;gBAAIwH,SAAS,EAAC,mDAAmD;gBAAAC,QAAA,EAC9DiB,WAAW,CAACI,eAAe,GAAG7B,UAAU,CAACyB,WAAW,CAACI,eAAe,CAAC,GAAG;cAAK;gBAAApB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5E,CAAC,eACL7H,OAAA;gBAAIwH,SAAS,EAAC,mDAAmD;gBAAAC,QAAA,EAC9D,EAAAkB,oBAAA,GAAAD,WAAW,CAACpC,OAAO,cAAAqC,oBAAA,uBAAnBA,oBAAA,CAAqBI,QAAQ,KAAI;cAAS;gBAAArB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACzC,CAAC,eACL7H,OAAA;gBAAIwH,SAAS,EAAC,mDAAmD;gBAAAC,QAAA,EAC9D,EAAAmB,oBAAA,GAAAjH,cAAc,CAAC6B,IAAI,CAACwF,EAAE,IAAIA,EAAE,CAACpH,KAAK,KAAK8G,WAAW,CAACnC,aAAa,CAAC,cAAAqC,oBAAA,uBAAjEA,oBAAA,CAAmE/G,KAAK,KAAI6G,WAAW,CAACnC;cAAa;gBAAAmB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpG,CAAC,eACL7H,OAAA;gBAAIwH,SAAS,EAAC,iEAAiE;gBAAAC,QAAA,GAAC,GAC7E,EAAC,EAAAoB,kBAAA,GAAAH,WAAW,CAACxE,KAAK,cAAA2E,kBAAA,uBAAjBA,kBAAA,CAAmBP,OAAO,CAAC,CAAC,CAAC,KAAI,MAAM;cAAA;gBAAAZ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvC,CAAC,eACL7H,OAAA;gBAAIwH,SAAS,EAAC,6BAA6B;gBAAAC,QAAA,eACzCzH,OAAA;kBAAMwH,SAAS,EAAE,iEAAiEf,MAAM,CAACc,KAAK,EAAG;kBAAAE,QAAA,EAC9FhB,MAAM,CAAC5E;gBAAK;kBAAA6F,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACT;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC,eACL7H,OAAA;gBAAIwH,SAAS,EAAC,iDAAiD;gBAAAC,QAAA,EAC5DiB,WAAW,CAACjC,MAAM,KAAK,WAAW,iBACjCzG,OAAA;kBACE8H,OAAO,EAAEA,CAAA,KAAMlB,qBAAqB,CAAC8B,WAAW,CAAChF,EAAE,CAAE;kBACrD8D,SAAS,EAAC,iCAAiC;kBAAAC,QAAA,EAC5C;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ;cACT;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA,GA9BEa,WAAW,CAAChF,EAAE;cAAAgE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OA+BnB,CAAC;UAET,CAAC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACzH,EAAA,CA3jBID,GAAG;AAAA8I,EAAA,GAAH9I,GAAG;AA6jBT,eAAeA,GAAG;AAAC,IAAA8I,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}