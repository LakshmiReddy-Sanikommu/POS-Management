{"ast":null,"code":"var _jsxFileName = \"/Users/srilakshmireddysanikommu/Desktop/G/frontend/src/pages/POS.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport authService from '../services/authService';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst POS = () => {\n  _s();\n  var _selectedTransaction$, _paymentMethods$find2, _selectedTransaction$2, _selectedTransaction$3, _selectedTransaction$4, _selectedTransaction$5, _selectedTransaction$6;\n  const [activeTab, setActiveTab] = useState('new');\n  const [transactions, setTransactions] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [cart, setCart] = useState([]);\n  const [barcodeSearch, setBarcodeSearch] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedPaymentMethod, setSelectedPaymentMethod] = useState('CASH');\n  const [customerPaid, setCustomerPaid] = useState('');\n  const [discountAmount, setDiscountAmount] = useState(0);\n  const [selectedTransaction, setSelectedTransaction] = useState(null);\n  const [showTransactionDetails, setShowTransactionDetails] = useState(false);\n  const paymentMethods = [{\n    value: 'CASH',\n    label: 'Cash'\n  }, {\n    value: 'CREDIT_CARD',\n    label: 'Credit Card'\n  }, {\n    value: 'DEBIT_CARD',\n    label: 'Debit Card'\n  }, {\n    value: 'CHECK',\n    label: 'Check'\n  }, {\n    value: 'EBT',\n    label: 'EBT / Food Stamps'\n  }, {\n    value: 'GIFT_CARD',\n    label: 'Gift Card'\n  }];\n  useEffect(() => {\n    if (activeTab === 'new') {\n      fetchProducts();\n    } else {\n      fetchTransactions();\n    }\n  }, [activeTab]);\n  const fetchTransactions = async () => {\n    try {\n      setLoading(true);\n      const response = await authService.getApiInstance().get('/pos/transactions');\n      setTransactions(response.data);\n    } catch (error) {\n      console.error('Error fetching transactions:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchProducts = async () => {\n    try {\n      setLoading(true);\n      const response = await authService.getApiInstance().get('/products');\n      setProducts(response.data);\n    } catch (error) {\n      console.error('Error fetching products:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchTransactionDetails = async transactionId => {\n    try {\n      const response = await authService.getApiInstance().get(`/pos/transactions/${transactionId}`);\n      setSelectedTransaction(response.data);\n      setShowTransactionDetails(true);\n    } catch (error) {\n      console.error('Error fetching transaction details:', error);\n      alert('Error loading transaction details');\n    }\n  };\n  const handleBarcodeSearch = async () => {\n    if (!barcodeSearch.trim()) return;\n    try {\n      // First try to find as a product\n      let response;\n      let itemType = 'product';\n      try {\n        response = await authService.getApiInstance().get(`/products/barcode/${barcodeSearch}`);\n      } catch (productError) {\n        // If not found as product, try lottery\n        try {\n          response = await authService.getApiInstance().get(`/lottery/barcode/${barcodeSearch}`);\n          itemType = 'lottery';\n        } catch (lotteryError) {\n          console.error('Item not found in products or lottery:', lotteryError);\n          alert('Product not found');\n          return;\n        }\n      }\n      const item = response.data;\n      if (itemType === 'lottery') {\n        // Convert lottery game to product-like object for cart\n        const lotteryAsProduct = {\n          id: `lottery_${item.id}`,\n          name: item.name,\n          price: item.ticketPrice,\n          barcode: item.barcode,\n          lotteryId: item.id,\n          isLottery: true,\n          currentStock: item.currentStock,\n          foodStampEligible: false // Lottery tickets are not food stamp eligible\n        };\n        addToCart(lotteryAsProduct, 1);\n      } else {\n        addToCart(item, 1);\n      }\n      setBarcodeSearch('');\n    } catch (error) {\n      console.error('Error during barcode search:', error);\n      alert('Error searching for item');\n    }\n  };\n  const handleProductSearch = searchTerm => {\n    if (!searchTerm.trim()) {\n      setSearchResults([]);\n      return;\n    }\n\n    // Search in products\n    const filteredProducts = products.filter(product => product.name.toLowerCase().includes(searchTerm.toLowerCase()) || product.barcode.includes(searchTerm));\n\n    // Search in lottery games and convert to product-like objects\n    const filteredLottery = lotteryGames.filter(lottery => lottery.active && (lottery.name.toLowerCase().includes(searchTerm.toLowerCase()) || lottery.barcode.includes(searchTerm))).map(lottery => ({\n      id: `lottery_${lottery.id}`,\n      name: `${lottery.name} (Lottery)`,\n      price: lottery.ticketPrice,\n      barcode: lottery.barcode,\n      lotteryId: lottery.id,\n      isLottery: true,\n      currentStock: lottery.currentStock,\n      foodStampEligible: false\n    }));\n    const combined = [...filteredProducts, ...filteredLottery];\n    setSearchResults(combined.slice(0, 10)); // Limit to 10 results\n  };\n  const addToCart = (product, quantity = 1) => {\n    setCart(prevCart => {\n      const existingItem = prevCart.find(item => item.product.id === product.id);\n      if (existingItem) {\n        const newQuantity = existingItem.quantity + quantity;\n        return prevCart.map(item => item.product.id === product.id ? {\n          ...item,\n          quantity: newQuantity\n        } : item);\n      } else {\n        return [...prevCart, {\n          product,\n          quantity\n        }];\n      }\n    });\n  };\n  const updateCartItemQuantity = (productId, newQuantity) => {\n    if (newQuantity <= 0) {\n      removeFromCart(productId);\n    } else {\n      setCart(prevCart => prevCart.map(item => {\n        if (item.product.id === productId) {\n          return {\n            ...item,\n            quantity: newQuantity\n          };\n        }\n        return item;\n      }));\n    }\n  };\n  const removeFromCart = productId => {\n    setCart(prevCart => prevCart.filter(item => item.product.id !== productId));\n  };\n  const calculateSubtotal = () => {\n    return cart.reduce((total, item) => total + item.product.price * item.quantity, 0);\n  };\n\n  // Calculate tax for food stamp eligible items (no tax when paying with food stamps)\n  const calculateFoodStampEligibleSubtotal = () => {\n    return cart.filter(item => item.product.foodStampEligible).reduce((total, item) => total + item.product.price * item.quantity, 0);\n  };\n\n  // Calculate tax for non-food stamp eligible items\n  const calculateNonFoodStampSubtotal = () => {\n    return cart.filter(item => !item.product.foodStampEligible).reduce((total, item) => total + item.product.price * item.quantity, 0);\n  };\n  const getPaymentBreakdown = () => {\n    const foodStampSubtotal = calculateFoodStampEligibleSubtotal();\n    const nonFoodStampSubtotal = calculateNonFoodStampSubtotal();\n\n    // Calculate tax for non-food stamp items\n    const nonFoodStampTax = cart.filter(item => !item.product.foodStampEligible).reduce((tax, item) => {\n      const taxRate = item.product.category ? item.product.category.taxRate / 100 : 0;\n      return tax + item.product.price * item.quantity * taxRate;\n    }, 0);\n\n    // Calculate tax for food stamp items (only if not paying with EBT)\n    const foodStampTax = selectedPaymentMethod === 'EBT' ? 0 : cart.filter(item => item.product.foodStampEligible).reduce((tax, item) => {\n      const taxRate = item.product.category ? item.product.category.taxRate / 100 : 0;\n      return tax + item.product.price * item.quantity * taxRate;\n    }, 0);\n    return {\n      foodStampSubtotal,\n      foodStampTax,\n      foodStampTotal: foodStampSubtotal + foodStampTax,\n      nonFoodStampSubtotal,\n      nonFoodStampTax,\n      nonFoodStampTotal: nonFoodStampSubtotal + nonFoodStampTax,\n      totalTax: foodStampTax + nonFoodStampTax,\n      grandTotal: foodStampSubtotal + foodStampTax + nonFoodStampSubtotal + nonFoodStampTax - discountAmount\n    };\n  };\n  const calculateChange = () => {\n    const paid = parseFloat(customerPaid) || 0;\n    const breakdown = getPaymentBreakdown();\n    return Math.max(0, paid - breakdown.grandTotal);\n  };\n  const handleCompleteTransaction = async () => {\n    if (cart.length === 0) {\n      alert('Cart is empty');\n      return;\n    }\n    const breakdown = getPaymentBreakdown();\n    const total = breakdown.grandTotal;\n    const paid = parseFloat(customerPaid) || 0;\n\n    // Validate food stamp payments\n    if (selectedPaymentMethod === 'EBT') {\n      if (breakdown.foodStampSubtotal === 0) {\n        alert('No food stamp eligible items in cart. Please select a different payment method.');\n        return;\n      }\n      if (breakdown.nonFoodStampSubtotal > 0) {\n        alert(`This cart contains non-food stamp eligible items totaling $${breakdown.nonFoodStampTotal.toFixed(2)}. You need to pay for these items with another payment method. Please complete this transaction separately or choose a different payment method.`);\n        return;\n      }\n    }\n\n    // Validate cash payments\n    if (selectedPaymentMethod === 'CASH' && paid < total) {\n      alert('Insufficient payment amount');\n      return;\n    }\n    try {\n      const currentUser = authService.getCurrentUser();\n      console.log('Current user:', currentUser);\n      if (!currentUser || !currentUser.id) {\n        alert('User not authenticated. Please log in again.');\n        return;\n      }\n\n      // Separate lottery items from regular products\n      const regularItems = cart.filter(item => !item.product.isLottery);\n      const lotteryItems = cart.filter(item => item.product.isLottery);\n      console.log('Cart breakdown:', {\n        total: cart.length,\n        regular: regularItems.length,\n        lottery: lotteryItems.length\n      });\n\n      // Create full transaction items for regular products only\n      const transactionItems = regularItems.map(item => ({\n        quantity: item.quantity,\n        unitPrice: item.product.price,\n        totalPrice: item.product.price * item.quantity,\n        discountAmount: 0,\n        product: {\n          id: item.product.id,\n          name: item.product.name,\n          price: item.product.price,\n          barcode: item.product.barcode,\n          category: item.product.category || null\n        }\n      }));\n      let notes = selectedPaymentMethod === 'EBT' ? 'EBT Food Stamp Purchase' : null;\n\n      // Add lottery items to notes\n      if (lotteryItems.length > 0) {\n        const lotteryNote = `Lottery sales: ${lotteryItems.map(item => `${item.product.name} x${item.quantity}`).join(', ')}`;\n        notes = notes ? `${notes}. ${lotteryNote}` : lotteryNote;\n      }\n\n      // Calculate totals for the transaction\n      const subtotal = regularItems.reduce((total, item) => total + item.product.price * item.quantity, 0);\n      const taxAmount = regularItems.reduce((tax, item) => {\n        const taxRate = item.product.category ? item.product.category.taxRate / 100 : 0;\n        return tax + item.product.price * item.quantity * taxRate;\n      }, 0);\n\n      // Create full transaction payload (cashier and transactionDate will be set automatically by backend)\n      const payload = {\n        paymentMethod: selectedPaymentMethod,\n        subtotal: subtotal,\n        taxAmount: taxAmount,\n        discountAmount: discountAmount || 0,\n        totalAmount: subtotal + taxAmount - (discountAmount || 0),\n        status: 'COMPLETED',\n        items: transactionItems,\n        notes: notes\n      };\n      console.log('Transaction payload:', JSON.stringify(payload, null, 2));\n      let response;\n\n      // Create transaction only if there are regular items\n      if (regularItems.length > 0) {\n        console.log('Processing transaction with regular items:', regularItems.length);\n\n        // Test authentication and API endpoint first\n        try {\n          console.log('Testing authentication...');\n          const testAuth = await authService.getApiInstance().get('/pos/transactions');\n          console.log('Authentication test successful:', testAuth.status);\n          console.log('Testing debug endpoint...');\n          const debugTest = await authService.getApiInstance().get('/pos/transactions/debug');\n          console.log('Debug endpoint response:', debugTest.data);\n        } catch (authError) {\n          var _authError$response, _authError$response2;\n          console.error('Authentication or API test failed:', authError);\n          if (((_authError$response = authError.response) === null || _authError$response === void 0 ? void 0 : _authError$response.status) === 403 || ((_authError$response2 = authError.response) === null || _authError$response2 === void 0 ? void 0 : _authError$response2.status) === 401) {\n            alert('Authentication failed. Please log in again.');\n          } else {\n            alert('API connection failed. Please check if backend is running.');\n          }\n          return;\n        }\n\n        // Try a very simple test transaction first\n        console.log('Trying minimal transaction payload...');\n        const minimalPayload = {\n          paymentMethod: 'CASH',\n          items: []\n        };\n        try {\n          const minimalTest = await authService.getApiInstance().post('/pos/transactions', minimalPayload);\n          console.log('Minimal transaction test successful:', minimalTest.data);\n        } catch (minimalError) {\n          var _minimalError$respons;\n          console.error('Minimal transaction test failed:', (_minimalError$respons = minimalError.response) === null || _minimalError$respons === void 0 ? void 0 : _minimalError$respons.data);\n        }\n\n        // Test payload endpoint\n        try {\n          console.log('Testing payload endpoint...');\n          const payloadTest = await authService.getApiInstance().post('/pos/transactions/test', JSON.stringify(payload));\n          console.log('Payload test response:', payloadTest.data);\n        } catch (payloadError) {\n          var _payloadError$respons;\n          console.error('Payload test failed:', (_payloadError$respons = payloadError.response) === null || _payloadError$respons === void 0 ? void 0 : _payloadError$respons.data);\n        }\n\n        // Now try the full payload\n        console.log('Trying full transaction payload...');\n        response = await authService.getApiInstance().post('/pos/transactions', payload);\n        console.log('Transaction created successfully:', response.data);\n      } else {\n        console.log('No regular items in cart, skipping POS transaction creation');\n      }\n\n      // Handle lottery sales separately\n      for (const lotteryItem of lotteryItems) {\n        try {\n          // Warn if selling more than available stock, but allow the sale\n          if (lotteryItem.quantity > lotteryItem.product.currentStock) {\n            console.warn(`Warning: Selling ${lotteryItem.quantity} tickets but only ${lotteryItem.product.currentStock} in stock for ${lotteryItem.product.name}`);\n          }\n          console.log(`Selling ${lotteryItem.quantity} tickets of lottery game ${lotteryItem.product.lotteryId}`);\n          await authService.getApiInstance().post(`/lottery/${lotteryItem.product.lotteryId}/sell/${lotteryItem.quantity}`);\n          console.log(`Lottery sale completed for ${lotteryItem.product.name}`);\n        } catch (lotteryError) {\n          var _lotteryError$respons, _lotteryError$respons2;\n          console.error(`Error selling lottery tickets for ${lotteryItem.product.name}:`, lotteryError);\n          alert(`Error processing lottery sale for ${lotteryItem.product.name}: ${((_lotteryError$respons = lotteryError.response) === null || _lotteryError$respons === void 0 ? void 0 : (_lotteryError$respons2 = _lotteryError$respons.data) === null || _lotteryError$respons2 === void 0 ? void 0 : _lotteryError$respons2.message) || lotteryError.message}`);\n          return; // Stop transaction if lottery sale fails\n        }\n      }\n\n      // Clear cart and reset form\n      setCart([]);\n      setCustomerPaid('');\n      setDiscountAmount(0);\n      setSelectedPaymentMethod('CASH');\n\n      // Refresh lottery games to update stock\n      if (lotteryItems.length > 0) {\n        fetchLotteryGames();\n      }\n      if (regularItems.length > 0 && lotteryItems.length > 0) {\n        alert('Transaction completed successfully! Products and lottery tickets processed.');\n      } else if (regularItems.length > 0) {\n        alert('Transaction completed successfully!');\n      } else if (lotteryItems.length > 0) {\n        alert('Lottery sale completed successfully!');\n      } else {\n        alert('No items to process.');\n        return;\n      }\n\n      // Refresh transactions if we're on the history tab\n      if (activeTab === 'history') {\n        fetchTransactions();\n      }\n    } catch (error) {\n      var _error$response, _error$response2, _error$response3;\n      console.error('Error completing transaction:', error);\n      console.error('Full error response:', error.response);\n      console.error('Error response data:', (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n      console.error('Error status:', (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status);\n      let errorMessage = 'Unknown error occurred';\n      if ((_error$response3 = error.response) !== null && _error$response3 !== void 0 && _error$response3.data) {\n        if (typeof error.response.data === 'string') {\n          errorMessage = error.response.data;\n        } else if (error.response.data.message) {\n          errorMessage = error.response.data.message;\n        } else {\n          errorMessage = JSON.stringify(error.response.data);\n        }\n      } else if (error.message) {\n        errorMessage = error.message;\n      }\n      alert(`Error completing transaction: ${errorMessage}`);\n    }\n  };\n  const handleVoidTransaction = async transactionId => {\n    try {\n      await authService.getApiInstance().patch(`/pos/transactions/${transactionId}/void`);\n      alert('Transaction voided successfully');\n      fetchTransactions();\n    } catch (error) {\n      console.error('Error voiding transaction:', error);\n      alert('Error voiding transaction');\n    }\n  };\n  const createSampleTransactions = async () => {\n    try {\n      // Create a few sample transactions for testing\n      const sampleTransactions = [{\n        paymentMethod: 'CREDIT_CARD',\n        items: [{\n          productId: 1,\n          quantity: 1\n        },\n        // Coca Cola\n        {\n          productId: 6,\n          quantity: 1\n        } // Lay's Chips\n        ]\n      }, {\n        paymentMethod: 'EBT',\n        items: [{\n          productId: 12,\n          quantity: 1\n        },\n        // Bread\n        {\n          productId: 13,\n          quantity: 1\n        } // Milk\n        ]\n      }, {\n        paymentMethod: 'CASH',\n        customerPaid: 15.00,\n        items: [{\n          productId: 10,\n          quantity: 1\n        } // Marlboro\n        ]\n      }];\n      for (const transactionData of sampleTransactions) {\n        await authService.getApiInstance().post('/pos/transactions', transactionData);\n      }\n      alert('Sample transactions created successfully!');\n      fetchTransactions();\n    } catch (error) {\n      console.error('Error creating sample transactions:', error);\n      alert('Error creating sample transactions. You can create them manually using the POS interface.');\n    }\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleString();\n  };\n  const formatTransactionStatus = status => {\n    const statusMap = {\n      'COMPLETED': {\n        label: 'Completed',\n        color: 'bg-green-100 text-green-800'\n      },\n      'PENDING': {\n        label: 'Pending',\n        color: 'bg-yellow-100 text-yellow-800'\n      },\n      'VOIDED': {\n        label: 'Voided',\n        color: 'bg-red-100 text-red-800'\n      }\n    };\n    return statusMap[status] || {\n      label: status,\n      color: 'bg-gray-100 text-gray-800'\n    };\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 528,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-gray-900\",\n        children: \"Point of Sale\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex space-x-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('new'),\n          className: `py-2 px-1 border-b-2 font-medium text-sm ${activeTab === 'new' ? 'border-indigo-500 text-indigo-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n          children: \"New Transaction\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('history'),\n          className: `py-2 px-1 border-b-2 font-medium text-sm ${activeTab === 'history' ? 'border-indigo-500 text-indigo-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n          children: \"Transaction History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 7\n    }, this), activeTab === 'new' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold mb-2\",\n            children: \"Barcode Scanner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: barcodeSearch,\n              onChange: e => setBarcodeSearch(e.target.value),\n              onKeyPress: e => e.key === 'Enter' && handleBarcodeSearch(),\n              placeholder: \"Scan or enter barcode\",\n              className: \"flex-1 border rounded px-3 py-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 574,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleBarcodeSearch,\n              className: \"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",\n              children: \"Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold mb-2\",\n            children: \"Product Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 593,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: e => handleProductSearch(e.target.value),\n            placeholder: \"Search products by name...\",\n            className: \"w-full border rounded px-3 py-2 mb-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 15\n          }, this), searchResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-h-48 overflow-y-auto border rounded\",\n            children: searchResults.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => addToCart(product),\n              className: \"p-2 hover:bg-gray-100 cursor-pointer border-b\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium\",\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 608,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-500\",\n                children: [product.barcode, \" \\u2022 $\", product.price.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 609,\n                columnNumber: 23\n              }, this)]\n            }, product.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 603,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 601,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold mb-2\",\n            children: \"Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 15\n          }, this), cart.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: \"Cart is empty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: cart.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between border-b pb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: item.product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 628,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-500\",\n                  children: [\"$\", item.product.price.toFixed(2), \" each\", item.product.isLottery && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800\",\n                    children: \"Lottery Ticket\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 632,\n                    columnNumber: 29\n                  }, this), item.product.foodStampEligible && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800\",\n                    children: \"Food Stamp Eligible\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 637,\n                    columnNumber: 29\n                  }, this), item.product.isLottery && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `ml-2 text-xs ${item.product.currentStock <= 0 ? 'text-orange-500' : 'text-gray-400'}`,\n                    children: [\"Stock: \", item.product.currentStock, \" \", item.product.currentStock <= 0 ? '(Low Stock)' : '']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 642,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 629,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 627,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => updateCartItemQuantity(item.product.id, item.quantity - 1),\n                  className: \"bg-gray-200 text-gray-600 w-6 h-6 rounded text-sm\",\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 649,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"w-8 text-center\",\n                  children: item.quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 655,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => updateCartItemQuantity(item.product.id, item.quantity + 1),\n                  className: \"bg-gray-200 text-gray-600 w-6 h-6 rounded text-sm\",\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 656,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => removeFromCart(item.product.id),\n                  className: \"bg-red-500 text-white w-6 h-6 rounded text-sm ml-2\",\n                  children: \"\\xD7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 662,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 648,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right w-20\",\n                children: [\"$\", (item.product.price * item.quantity).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 669,\n                columnNumber: 23\n              }, this)]\n            }, item.product.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 626,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 624,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold mb-4\",\n            children: \"Transaction Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 682,\n            columnNumber: 15\n          }, this), (() => {\n            const breakdown = getPaymentBreakdown();\n            const hasFood = breakdown.foodStampSubtotal > 0;\n            const hasNonFood = breakdown.nonFoodStampSubtotal > 0;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2 text-sm\",\n              children: selectedPaymentMethod === 'EBT' && hasFood && hasNonFood ?\n              /*#__PURE__*/\n              // Show breakdown when using EBT and have mixed items\n              _jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium text-blue-600 mb-2\",\n                  children: \"Food Stamp Eligible Items:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 694,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between pl-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Subtotal:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 696,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"$\", breakdown.foodStampSubtotal.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 697,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 695,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between pl-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Tax:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 700,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"$\", breakdown.foodStampTax.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 701,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 699,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between pl-4 font-medium\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Food Stamp Total:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 704,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"$\", breakdown.foodStampTotal.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 705,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 703,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium text-green-600 mb-2 mt-3\",\n                  children: \"Other Payment Required:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 708,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between pl-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Subtotal:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 710,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"$\", breakdown.nonFoodStampSubtotal.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 711,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 709,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between pl-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Tax:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 714,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"$\", breakdown.nonFoodStampTax.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 715,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 713,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between pl-4 font-medium\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Other Payment Total:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 718,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"$\", breakdown.nonFoodStampTotal.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 719,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 717,\n                  columnNumber: 25\n                }, this), discountAmount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Discount:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 724,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"-$\", discountAmount.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 725,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 723,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 728,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between font-bold text-lg\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Grand Total:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 730,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"$\", breakdown.grandTotal.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 731,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 729,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2 p-2 bg-yellow-50 border-l-4 border-yellow-400\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-yellow-700\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Note:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 736,\n                      columnNumber: 29\n                    }, this), \" Food stamp eligible items ($\", breakdown.foodStampTotal.toFixed(2), \") can be paid with EBT. Remaining $\", breakdown.nonFoodStampTotal.toFixed(2), \" requires another payment method.\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 735,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 734,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true) :\n              /*#__PURE__*/\n              // Standard breakdown for other payment methods\n              _jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Subtotal:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 745,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"$\", calculateSubtotal().toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 746,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 744,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Tax:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 749,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"$\", breakdown.totalTax.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 750,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 748,\n                  columnNumber: 25\n                }, this), discountAmount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Discount:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 754,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"-$\", discountAmount.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 755,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 753,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 758,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between font-bold text-lg\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Total:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 760,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"$\", breakdown.grandTotal.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 761,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 759,\n                  columnNumber: 25\n                }, this), selectedPaymentMethod === 'EBT' && hasFood && !hasNonFood && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2 p-2 bg-green-50 border-l-4 border-green-400\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-green-700\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"EBT:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 767,\n                      columnNumber: 31\n                    }, this), \" All items are food stamp eligible. No tax applied.\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 766,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 765,\n                  columnNumber: 27\n                }, this), selectedPaymentMethod === 'EBT' && !hasFood && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2 p-2 bg-red-50 border-l-4 border-red-400\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-red-700\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Warning:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 775,\n                      columnNumber: 31\n                    }, this), \" No food stamp eligible items in cart. Please select a different payment method.\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 774,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 773,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 19\n            }, this);\n          })(), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-1\",\n                children: \"Discount Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 787,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.01\",\n                value: discountAmount,\n                onChange: e => setDiscountAmount(parseFloat(e.target.value) || 0),\n                className: \"w-full border rounded px-3 py-2\",\n                placeholder: \"0.00\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 788,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 786,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-1\",\n                children: \"Payment Method\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 799,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: selectedPaymentMethod,\n                onChange: e => setSelectedPaymentMethod(e.target.value),\n                className: \"w-full border rounded px-3 py-2\",\n                children: paymentMethods.map(method => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: method.value,\n                  children: method.label\n                }, method.value, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 806,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 800,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 798,\n              columnNumber: 17\n            }, this), selectedPaymentMethod === 'CASH' && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium mb-1\",\n                  children: \"Amount Paid\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 816,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  step: \"0.01\",\n                  value: customerPaid,\n                  onChange: e => setCustomerPaid(e.target.value),\n                  className: \"w-full border rounded px-3 py-2\",\n                  placeholder: \"0.00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 817,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 815,\n                columnNumber: 21\n              }, this), customerPaid && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-lg font-semibold\",\n                children: [\"Change: $\", calculateChange().toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 827,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCompleteTransaction,\n              disabled: cart.length === 0,\n              className: \"w-full bg-green-500 text-white py-3 rounded font-semibold hover:bg-green-600 disabled:bg-gray-300\",\n              children: \"Complete Transaction\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 834,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 785,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 681,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 680,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 9\n    }, this) :\n    /*#__PURE__*/\n    /* Transaction History */\n    _jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow overflow-x-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-4 border-b border-gray-200 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900\",\n          children: \"Transaction History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 850,\n          columnNumber: 13\n        }, this), transactions.length === 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: createSampleTransactions,\n          className: \"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 text-sm\",\n          children: \"Create Sample Transactions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 852,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 849,\n        columnNumber: 11\n      }, this), transactions.length === 0 ?\n      /*#__PURE__*/\n      /* Empty State */\n      _jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"mx-auto h-12 w-12 text-gray-400\",\n          fill: \"none\",\n          viewBox: \"0 0 24 24\",\n          stroke: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 1,\n            d: \"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2zM13 8.5a.5.5 0 11-1 0 .5.5 0 011 0zM9 15.5a.5.5 0 11-1 0 .5.5 0 011 0z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 865,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 864,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mt-2 text-sm font-medium text-gray-900\",\n          children: \"No transactions found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 867,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-1 text-sm text-gray-500\",\n          children: \"Get started by creating your first transaction using the \\\"New Sale\\\" tab above.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 868,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('new'),\n            className: \"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 mr-2\",\n            children: \"Start New Sale\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 872,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: createSampleTransactions,\n            className: \"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",\n            children: \"Create Sample Transactions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 878,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 871,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 863,\n        columnNumber: 13\n      }, this) :\n      /*#__PURE__*/\n      /* Transaction Table */\n      _jsxDEV(\"table\", {\n        className: \"min-w-full table-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-gray-50\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Transaction #\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 891,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Date/Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 894,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Cashier\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 897,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Payment Method\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 900,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 903,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 906,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 909,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 890,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 889,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          className: \"bg-white divide-y divide-gray-200\",\n          children: transactions.map(transaction => {\n            var _transaction$cashier, _paymentMethods$find, _transaction$totalAmo, _transaction$total;\n            const status = formatTransactionStatus(transaction.status);\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",\n                children: [\"#\", transaction.transactionNumber || transaction.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 919,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                children: transaction.transactionDate ? formatDate(transaction.transactionDate) : 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 922,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                children: ((_transaction$cashier = transaction.cashier) === null || _transaction$cashier === void 0 ? void 0 : _transaction$cashier.username) || 'Unknown'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 925,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                children: ((_paymentMethods$find = paymentMethods.find(pm => pm.value === transaction.paymentMethod)) === null || _paymentMethods$find === void 0 ? void 0 : _paymentMethods$find.label) || transaction.paymentMethod\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 928,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold\",\n                children: [\"$\", ((_transaction$totalAmo = transaction.totalAmount) === null || _transaction$totalAmo === void 0 ? void 0 : _transaction$totalAmo.toFixed(2)) || ((_transaction$total = transaction.total) === null || _transaction$total === void 0 ? void 0 : _transaction$total.toFixed(2)) || '0.00']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 931,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${status.color}`,\n                  children: status.label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 935,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 934,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm font-medium\",\n                children: transaction.status === 'COMPLETED' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleVoidTransaction(transaction.id),\n                    className: \"text-red-600 hover:text-red-900 mr-2\",\n                    children: \"Void\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 942,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => fetchTransactionDetails(transaction.id),\n                    className: \"text-blue-600 hover:text-blue-900\",\n                    children: \"View Details\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 948,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 939,\n                columnNumber: 23\n              }, this)]\n            }, transaction.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 918,\n              columnNumber: 21\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 914,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 888,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 847,\n      columnNumber: 9\n    }, this), showTransactionDetails && selectedTransaction && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center pb-4 border-b\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-900\",\n              children: \"Transaction Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 973,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowTransactionDetails(false),\n              className: \"text-gray-400 hover:text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"sr-only\",\n                children: \"Close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 978,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-6 w-6\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M6 18L18 6M6 6l12 12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 980,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 979,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 974,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 972,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 p-6 bg-white border border-gray-200 rounded-lg\",\n            style: {\n              fontFamily: 'monospace'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-bold\",\n                children: \"GAS STATION MART\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 989,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm\",\n                children: \"123 Main Street\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 990,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm\",\n                children: \"Your City, ST 12345\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 991,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm\",\n                children: \"Phone: (555) 123-4567\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 992,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 988,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-t border-b border-gray-300 py-2 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Transaction #: \", selectedTransaction.transactionNumber || selectedTransaction.id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 997,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: formatDate(selectedTransaction.transactionDate || selectedTransaction.createdAt)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 998,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 996,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Cashier: \", ((_selectedTransaction$ = selectedTransaction.cashier) === null || _selectedTransaction$ === void 0 ? void 0 : _selectedTransaction$.username) || 'Unknown']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1001,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Payment: \", ((_paymentMethods$find2 = paymentMethods.find(pm => pm.value === selectedTransaction.paymentMethod)) === null || _paymentMethods$find2 === void 0 ? void 0 : _paymentMethods$find2.label) || selectedTransaction.paymentMethod]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1002,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1000,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 995,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm font-semibold mb-2\",\n                children: \"ITEMS PURCHASED:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1008,\n                columnNumber: 19\n              }, this), selectedTransaction.items && selectedTransaction.items.length > 0 ? selectedTransaction.items.map((item, index) => {\n                var _item$product, _item$unitPrice, _item$totalPrice;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between text-sm mb-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"flex-1\",\n                    children: [((_item$product = item.product) === null || _item$product === void 0 ? void 0 : _item$product.name) || 'Unknown Product', /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600 ml-2\",\n                      children: [\"(\", item.quantity, \" @ $\", ((_item$unitPrice = item.unitPrice) === null || _item$unitPrice === void 0 ? void 0 : _item$unitPrice.toFixed(2)) || '0.00', \")\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1014,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1012,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: [\"$\", ((_item$totalPrice = item.totalPrice) === null || _item$totalPrice === void 0 ? void 0 : _item$totalPrice.toFixed(2)) || (item.quantity * item.unitPrice).toFixed(2) || '0.00']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1018,\n                    columnNumber: 25\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1011,\n                  columnNumber: 23\n                }, this);\n              }) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"No detailed items available for this transaction.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1023,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1\",\n                  children: \"This may be a system-generated sample transaction.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1024,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1022,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1007,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-t border-gray-300 pt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between text-sm mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Subtotal:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1032,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"$\", ((_selectedTransaction$2 = selectedTransaction.subtotal) === null || _selectedTransaction$2 === void 0 ? void 0 : _selectedTransaction$2.toFixed(2)) || '0.00']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1033,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1031,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between text-sm mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Tax:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1036,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"$\", ((_selectedTransaction$3 = selectedTransaction.taxAmount) === null || _selectedTransaction$3 === void 0 ? void 0 : _selectedTransaction$3.toFixed(2)) || '0.00']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1037,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1035,\n                columnNumber: 19\n              }, this), selectedTransaction.discountAmount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between text-sm mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Discount:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1041,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"-$\", ((_selectedTransaction$4 = selectedTransaction.discountAmount) === null || _selectedTransaction$4 === void 0 ? void 0 : _selectedTransaction$4.toFixed(2)) || '0.00']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1042,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1040,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between text-lg font-bold border-t border-gray-300 pt-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"TOTAL:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1046,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"$\", ((_selectedTransaction$5 = selectedTransaction.totalAmount) === null || _selectedTransaction$5 === void 0 ? void 0 : _selectedTransaction$5.toFixed(2)) || ((_selectedTransaction$6 = selectedTransaction.total) === null || _selectedTransaction$6 === void 0 ? void 0 : _selectedTransaction$6.toFixed(2)) || '0.00']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1047,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1045,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1030,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mt-4 pt-4 border-t border-gray-300 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Thank you for your business!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1053,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Please come again!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1054,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-2 py-1 rounded text-xs ${formatTransactionStatus(selectedTransaction.status).color}`,\n                  children: [\"Status: \", formatTransactionStatus(selectedTransaction.status).label]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1056,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1055,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1052,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 986,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-2 mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => window.print(),\n              className: \"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",\n              children: \"Print Receipt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1065,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowTransactionDetails(false),\n              className: \"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1071,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1064,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 970,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 969,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 968,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 535,\n    columnNumber: 5\n  }, this);\n};\n_s(POS, \"4cXUSZkhyNgDffTGSI6H0WAeSVE=\");\n_c = POS;\nexport default POS;\nvar _c;\n$RefreshReg$(_c, \"POS\");","map":{"version":3,"names":["React","useState","useEffect","authService","jsxDEV","_jsxDEV","Fragment","_Fragment","POS","_s","_selectedTransaction$","_paymentMethods$find2","_selectedTransaction$2","_selectedTransaction$3","_selectedTransaction$4","_selectedTransaction$5","_selectedTransaction$6","activeTab","setActiveTab","transactions","setTransactions","products","setProducts","loading","setLoading","cart","setCart","barcodeSearch","setBarcodeSearch","searchResults","setSearchResults","selectedPaymentMethod","setSelectedPaymentMethod","customerPaid","setCustomerPaid","discountAmount","setDiscountAmount","selectedTransaction","setSelectedTransaction","showTransactionDetails","setShowTransactionDetails","paymentMethods","value","label","fetchProducts","fetchTransactions","response","getApiInstance","get","data","error","console","fetchTransactionDetails","transactionId","alert","handleBarcodeSearch","trim","itemType","productError","lotteryError","item","lotteryAsProduct","id","name","price","ticketPrice","barcode","lotteryId","isLottery","currentStock","foodStampEligible","addToCart","handleProductSearch","searchTerm","filteredProducts","filter","product","toLowerCase","includes","filteredLottery","lotteryGames","lottery","active","map","combined","slice","quantity","prevCart","existingItem","find","newQuantity","updateCartItemQuantity","productId","removeFromCart","calculateSubtotal","reduce","total","calculateFoodStampEligibleSubtotal","calculateNonFoodStampSubtotal","getPaymentBreakdown","foodStampSubtotal","nonFoodStampSubtotal","nonFoodStampTax","tax","taxRate","category","foodStampTax","foodStampTotal","nonFoodStampTotal","totalTax","grandTotal","calculateChange","paid","parseFloat","breakdown","Math","max","handleCompleteTransaction","length","toFixed","currentUser","getCurrentUser","log","regularItems","lotteryItems","regular","transactionItems","unitPrice","totalPrice","notes","lotteryNote","join","subtotal","taxAmount","payload","paymentMethod","totalAmount","status","items","JSON","stringify","testAuth","debugTest","authError","_authError$response","_authError$response2","minimalPayload","minimalTest","post","minimalError","_minimalError$respons","payloadTest","payloadError","_payloadError$respons","lotteryItem","warn","_lotteryError$respons","_lotteryError$respons2","message","fetchLotteryGames","_error$response","_error$response2","_error$response3","errorMessage","handleVoidTransaction","patch","createSampleTransactions","sampleTransactions","transactionData","formatDate","dateString","Date","toLocaleString","formatTransactionStatus","statusMap","color","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","onChange","e","target","onKeyPress","key","placeholder","hasFood","hasNonFood","step","method","disabled","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","transaction","_transaction$cashier","_paymentMethods$find","_transaction$totalAmo","_transaction$total","transactionNumber","transactionDate","cashier","username","pm","style","fontFamily","createdAt","index","_item$product","_item$unitPrice","_item$totalPrice","window","print","_c","$RefreshReg$"],"sources":["/Users/srilakshmireddysanikommu/Desktop/G/frontend/src/pages/POS.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport authService from '../services/authService';\n\nconst POS = () => {\n  const [activeTab, setActiveTab] = useState('new');\n  const [transactions, setTransactions] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [cart, setCart] = useState([]);\n  const [barcodeSearch, setBarcodeSearch] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedPaymentMethod, setSelectedPaymentMethod] = useState('CASH');\n  const [customerPaid, setCustomerPaid] = useState('');\n  const [discountAmount, setDiscountAmount] = useState(0);\n  const [selectedTransaction, setSelectedTransaction] = useState(null);\n  const [showTransactionDetails, setShowTransactionDetails] = useState(false);\n\n  const paymentMethods = [\n    { value: 'CASH', label: 'Cash' },\n    { value: 'CREDIT_CARD', label: 'Credit Card' },\n    { value: 'DEBIT_CARD', label: 'Debit Card' },\n    { value: 'CHECK', label: 'Check' },\n    { value: 'EBT', label: 'EBT / Food Stamps' },\n    { value: 'GIFT_CARD', label: 'Gift Card' }\n  ];\n\n  useEffect(() => {\n    if (activeTab === 'new') {\n      fetchProducts();\n    } else {\n      fetchTransactions();\n    }\n  }, [activeTab]);\n\n  const fetchTransactions = async () => {\n    try {\n      setLoading(true);\n      const response = await authService.getApiInstance().get('/pos/transactions');\n      setTransactions(response.data);\n    } catch (error) {\n      console.error('Error fetching transactions:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchProducts = async () => {\n    try {\n      setLoading(true);\n      const response = await authService.getApiInstance().get('/products');\n      setProducts(response.data);\n    } catch (error) {\n      console.error('Error fetching products:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchTransactionDetails = async (transactionId) => {\n    try {\n      const response = await authService.getApiInstance().get(`/pos/transactions/${transactionId}`);\n      setSelectedTransaction(response.data);\n      setShowTransactionDetails(true);\n    } catch (error) {\n      console.error('Error fetching transaction details:', error);\n      alert('Error loading transaction details');\n    }\n  };\n\n  const handleBarcodeSearch = async () => {\n    if (!barcodeSearch.trim()) return;\n    \n    try {\n      // First try to find as a product\n      let response;\n      let itemType = 'product';\n      \n      try {\n        response = await authService.getApiInstance().get(`/products/barcode/${barcodeSearch}`);\n      } catch (productError) {\n        // If not found as product, try lottery\n        try {\n          response = await authService.getApiInstance().get(`/lottery/barcode/${barcodeSearch}`);\n          itemType = 'lottery';\n        } catch (lotteryError) {\n          console.error('Item not found in products or lottery:', lotteryError);\n          alert('Product not found');\n          return;\n        }\n      }\n      \n      const item = response.data;\n      \n      if (itemType === 'lottery') {\n        // Convert lottery game to product-like object for cart\n        const lotteryAsProduct = {\n          id: `lottery_${item.id}`,\n          name: item.name,\n          price: item.ticketPrice,\n          barcode: item.barcode,\n          lotteryId: item.id,\n          isLottery: true,\n          currentStock: item.currentStock,\n          foodStampEligible: false // Lottery tickets are not food stamp eligible\n        };\n        \n        addToCart(lotteryAsProduct, 1);\n      } else {\n        addToCart(item, 1);\n      }\n      \n      setBarcodeSearch('');\n    } catch (error) {\n      console.error('Error during barcode search:', error);\n      alert('Error searching for item');\n    }\n  };\n\n  const handleProductSearch = (searchTerm) => {\n    if (!searchTerm.trim()) {\n      setSearchResults([]);\n      return;\n    }\n\n    // Search in products\n    const filteredProducts = products.filter(product =>\n      product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      product.barcode.includes(searchTerm)\n    );\n\n    // Search in lottery games and convert to product-like objects\n    const filteredLottery = lotteryGames\n      .filter(lottery => \n        lottery.active &&\n        (lottery.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n         lottery.barcode.includes(searchTerm))\n      )\n      .map(lottery => ({\n        id: `lottery_${lottery.id}`,\n        name: `${lottery.name} (Lottery)`,\n        price: lottery.ticketPrice,\n        barcode: lottery.barcode,\n        lotteryId: lottery.id,\n        isLottery: true,\n        currentStock: lottery.currentStock,\n        foodStampEligible: false\n      }));\n\n    const combined = [...filteredProducts, ...filteredLottery];\n    setSearchResults(combined.slice(0, 10)); // Limit to 10 results\n  };\n\n  const addToCart = (product, quantity = 1) => {\n    setCart(prevCart => {\n      const existingItem = prevCart.find(item => item.product.id === product.id);\n      \n      if (existingItem) {\n        const newQuantity = existingItem.quantity + quantity;\n        \n        return prevCart.map(item =>\n          item.product.id === product.id\n            ? { ...item, quantity: newQuantity }\n            : item\n        );\n      } else {\n        return [...prevCart, { product, quantity }];\n      }\n    });\n  };\n\n  const updateCartItemQuantity = (productId, newQuantity) => {\n    if (newQuantity <= 0) {\n      removeFromCart(productId);\n    } else {\n      setCart(prevCart =>\n        prevCart.map(item => {\n          if (item.product.id === productId) {\n            return { ...item, quantity: newQuantity };\n          }\n          return item;\n        })\n      );\n    }\n  };\n\n  const removeFromCart = (productId) => {\n    setCart(prevCart => prevCart.filter(item => item.product.id !== productId));\n  };\n\n  const calculateSubtotal = () => {\n    return cart.reduce((total, item) => total + (item.product.price * item.quantity), 0);\n  };\n\n  // Calculate tax for food stamp eligible items (no tax when paying with food stamps)\n  const calculateFoodStampEligibleSubtotal = () => {\n    return cart\n      .filter(item => item.product.foodStampEligible)\n      .reduce((total, item) => total + (item.product.price * item.quantity), 0);\n  };\n\n  // Calculate tax for non-food stamp eligible items\n  const calculateNonFoodStampSubtotal = () => {\n    return cart\n      .filter(item => !item.product.foodStampEligible)\n      .reduce((total, item) => total + (item.product.price * item.quantity), 0);\n  };\n\n  const getPaymentBreakdown = () => {\n    const foodStampSubtotal = calculateFoodStampEligibleSubtotal();\n    const nonFoodStampSubtotal = calculateNonFoodStampSubtotal();\n    \n    // Calculate tax for non-food stamp items\n    const nonFoodStampTax = cart\n      .filter(item => !item.product.foodStampEligible)\n      .reduce((tax, item) => {\n        const taxRate = item.product.category ? item.product.category.taxRate / 100 : 0;\n        return tax + (item.product.price * item.quantity * taxRate);\n      }, 0);\n    \n    // Calculate tax for food stamp items (only if not paying with EBT)\n    const foodStampTax = selectedPaymentMethod === 'EBT' ? 0 : cart\n      .filter(item => item.product.foodStampEligible)\n      .reduce((tax, item) => {\n        const taxRate = item.product.category ? item.product.category.taxRate / 100 : 0;\n        return tax + (item.product.price * item.quantity * taxRate);\n      }, 0);\n\n    return {\n      foodStampSubtotal,\n      foodStampTax,\n      foodStampTotal: foodStampSubtotal + foodStampTax,\n      nonFoodStampSubtotal,\n      nonFoodStampTax,\n      nonFoodStampTotal: nonFoodStampSubtotal + nonFoodStampTax,\n      totalTax: foodStampTax + nonFoodStampTax,\n      grandTotal: foodStampSubtotal + foodStampTax + nonFoodStampSubtotal + nonFoodStampTax - discountAmount\n    };\n  };\n\n  const calculateChange = () => {\n    const paid = parseFloat(customerPaid) || 0;\n    const breakdown = getPaymentBreakdown();\n    return Math.max(0, paid - breakdown.grandTotal);\n  };\n\n  const handleCompleteTransaction = async () => {\n    if (cart.length === 0) {\n      alert('Cart is empty');\n      return;\n    }\n\n    const breakdown = getPaymentBreakdown();\n    const total = breakdown.grandTotal;\n    const paid = parseFloat(customerPaid) || 0;\n\n    // Validate food stamp payments\n    if (selectedPaymentMethod === 'EBT') {\n      if (breakdown.foodStampSubtotal === 0) {\n        alert('No food stamp eligible items in cart. Please select a different payment method.');\n        return;\n      }\n      \n      if (breakdown.nonFoodStampSubtotal > 0) {\n        alert(`This cart contains non-food stamp eligible items totaling $${breakdown.nonFoodStampTotal.toFixed(2)}. You need to pay for these items with another payment method. Please complete this transaction separately or choose a different payment method.`);\n        return;\n      }\n    }\n\n    // Validate cash payments\n    if (selectedPaymentMethod === 'CASH' && paid < total) {\n      alert('Insufficient payment amount');\n      return;\n    }\n\n    try {\n      const currentUser = authService.getCurrentUser();\n      console.log('Current user:', currentUser);\n      \n      if (!currentUser || !currentUser.id) {\n        alert('User not authenticated. Please log in again.');\n        return;\n      }\n      \n      // Separate lottery items from regular products\n      const regularItems = cart.filter(item => !item.product.isLottery);\n      const lotteryItems = cart.filter(item => item.product.isLottery);\n      \n      console.log('Cart breakdown:', {\n        total: cart.length,\n        regular: regularItems.length,\n        lottery: lotteryItems.length\n      });\n      \n      // Create full transaction items for regular products only\n      const transactionItems = regularItems.map(item => ({\n        quantity: item.quantity,\n        unitPrice: item.product.price,\n        totalPrice: item.product.price * item.quantity,\n        discountAmount: 0,\n        product: {\n          id: item.product.id,\n          name: item.product.name,\n          price: item.product.price,\n          barcode: item.product.barcode,\n          category: item.product.category || null\n        }\n      }));\n\n      let notes = selectedPaymentMethod === 'EBT' ? 'EBT Food Stamp Purchase' : null;\n      \n      // Add lottery items to notes\n      if (lotteryItems.length > 0) {\n        const lotteryNote = `Lottery sales: ${lotteryItems.map(item => \n          `${item.product.name} x${item.quantity}`).join(', ')}`;\n        notes = notes ? `${notes}. ${lotteryNote}` : lotteryNote;\n      }\n\n      // Calculate totals for the transaction\n      const subtotal = regularItems.reduce((total, item) => total + (item.product.price * item.quantity), 0);\n      const taxAmount = regularItems.reduce((tax, item) => {\n        const taxRate = item.product.category ? item.product.category.taxRate / 100 : 0;\n        return tax + (item.product.price * item.quantity * taxRate);\n      }, 0);\n\n      // Create full transaction payload (cashier and transactionDate will be set automatically by backend)\n      const payload = {\n        paymentMethod: selectedPaymentMethod,\n        subtotal: subtotal,\n        taxAmount: taxAmount,\n        discountAmount: discountAmount || 0,\n        totalAmount: subtotal + taxAmount - (discountAmount || 0),\n        status: 'COMPLETED',\n        items: transactionItems,\n        notes: notes\n      };\n\n      console.log('Transaction payload:', JSON.stringify(payload, null, 2));\n      let response;\n      \n      // Create transaction only if there are regular items\n      if (regularItems.length > 0) {\n        console.log('Processing transaction with regular items:', regularItems.length);\n        \n        // Test authentication and API endpoint first\n        try {\n          console.log('Testing authentication...');\n          const testAuth = await authService.getApiInstance().get('/pos/transactions');\n          console.log('Authentication test successful:', testAuth.status);\n          \n          console.log('Testing debug endpoint...');\n          const debugTest = await authService.getApiInstance().get('/pos/transactions/debug');\n          console.log('Debug endpoint response:', debugTest.data);\n        } catch (authError) {\n          console.error('Authentication or API test failed:', authError);\n          if (authError.response?.status === 403 || authError.response?.status === 401) {\n            alert('Authentication failed. Please log in again.');\n          } else {\n            alert('API connection failed. Please check if backend is running.');\n          }\n          return;\n        }\n        \n        // Try a very simple test transaction first\n        console.log('Trying minimal transaction payload...');\n        const minimalPayload = {\n          paymentMethod: 'CASH',\n          items: []\n        };\n        \n        try {\n          const minimalTest = await authService.getApiInstance().post('/pos/transactions', minimalPayload);\n          console.log('Minimal transaction test successful:', minimalTest.data);\n        } catch (minimalError) {\n          console.error('Minimal transaction test failed:', minimalError.response?.data);\n        }\n        \n        // Test payload endpoint\n        try {\n          console.log('Testing payload endpoint...');\n          const payloadTest = await authService.getApiInstance().post('/pos/transactions/test', JSON.stringify(payload));\n          console.log('Payload test response:', payloadTest.data);\n        } catch (payloadError) {\n          console.error('Payload test failed:', payloadError.response?.data);\n        }\n        \n        // Now try the full payload\n        console.log('Trying full transaction payload...');\n        response = await authService.getApiInstance().post('/pos/transactions', payload);\n        console.log('Transaction created successfully:', response.data);\n      } else {\n        console.log('No regular items in cart, skipping POS transaction creation');\n      }\n      \n      // Handle lottery sales separately\n      for (const lotteryItem of lotteryItems) {\n        try {\n          // Warn if selling more than available stock, but allow the sale\n          if (lotteryItem.quantity > lotteryItem.product.currentStock) {\n            console.warn(`Warning: Selling ${lotteryItem.quantity} tickets but only ${lotteryItem.product.currentStock} in stock for ${lotteryItem.product.name}`);\n          }\n          \n          console.log(`Selling ${lotteryItem.quantity} tickets of lottery game ${lotteryItem.product.lotteryId}`);\n          await authService.getApiInstance().post(\n            `/lottery/${lotteryItem.product.lotteryId}/sell/${lotteryItem.quantity}`\n          );\n          console.log(`Lottery sale completed for ${lotteryItem.product.name}`);\n        } catch (lotteryError) {\n          console.error(`Error selling lottery tickets for ${lotteryItem.product.name}:`, lotteryError);\n          alert(`Error processing lottery sale for ${lotteryItem.product.name}: ${lotteryError.response?.data?.message || lotteryError.message}`);\n          return; // Stop transaction if lottery sale fails\n        }\n      }\n      \n      // Clear cart and reset form\n      setCart([]);\n      setCustomerPaid('');\n      setDiscountAmount(0);\n      setSelectedPaymentMethod('CASH');\n      \n      // Refresh lottery games to update stock\n      if (lotteryItems.length > 0) {\n        fetchLotteryGames();\n      }\n      \n      if (regularItems.length > 0 && lotteryItems.length > 0) {\n        alert('Transaction completed successfully! Products and lottery tickets processed.');\n      } else if (regularItems.length > 0) {\n        alert('Transaction completed successfully!');\n      } else if (lotteryItems.length > 0) {\n        alert('Lottery sale completed successfully!');\n      } else {\n        alert('No items to process.');\n        return;\n      }\n      \n      // Refresh transactions if we're on the history tab\n      if (activeTab === 'history') {\n        fetchTransactions();\n      }\n    } catch (error) {\n      console.error('Error completing transaction:', error);\n      console.error('Full error response:', error.response);\n      console.error('Error response data:', error.response?.data);\n      console.error('Error status:', error.response?.status);\n      \n      let errorMessage = 'Unknown error occurred';\n      if (error.response?.data) {\n        if (typeof error.response.data === 'string') {\n          errorMessage = error.response.data;\n        } else if (error.response.data.message) {\n          errorMessage = error.response.data.message;\n        } else {\n          errorMessage = JSON.stringify(error.response.data);\n        }\n      } else if (error.message) {\n        errorMessage = error.message;\n      }\n      \n      alert(`Error completing transaction: ${errorMessage}`);\n    }\n  };\n\n  const handleVoidTransaction = async (transactionId) => {\n    try {\n      await authService.getApiInstance().patch(`/pos/transactions/${transactionId}/void`);\n      alert('Transaction voided successfully');\n      fetchTransactions();\n    } catch (error) {\n      console.error('Error voiding transaction:', error);\n      alert('Error voiding transaction');\n    }\n  };\n\n  const createSampleTransactions = async () => {\n    try {\n      // Create a few sample transactions for testing\n      const sampleTransactions = [\n        {\n          paymentMethod: 'CREDIT_CARD',\n          items: [\n            { productId: 1, quantity: 1 }, // Coca Cola\n            { productId: 6, quantity: 1 }  // Lay's Chips\n          ]\n        },\n        {\n          paymentMethod: 'EBT',\n          items: [\n            { productId: 12, quantity: 1 }, // Bread\n            { productId: 13, quantity: 1 }  // Milk\n          ]\n        },\n        {\n          paymentMethod: 'CASH',\n          customerPaid: 15.00,\n          items: [\n            { productId: 10, quantity: 1 }, // Marlboro\n          ]\n        }\n      ];\n\n      for (const transactionData of sampleTransactions) {\n        await authService.getApiInstance().post('/pos/transactions', transactionData);\n      }\n      \n      alert('Sample transactions created successfully!');\n      fetchTransactions();\n    } catch (error) {\n      console.error('Error creating sample transactions:', error);\n      alert('Error creating sample transactions. You can create them manually using the POS interface.');\n    }\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleString();\n  };\n\n  const formatTransactionStatus = (status) => {\n    const statusMap = {\n      'COMPLETED': { label: 'Completed', color: 'bg-green-100 text-green-800' },\n      'PENDING': { label: 'Pending', color: 'bg-yellow-100 text-yellow-800' },\n      'VOIDED': { label: 'Voided', color: 'bg-red-100 text-red-800' }\n    };\n    return statusMap[status] || { label: status, color: 'bg-gray-100 text-gray-800' };\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"text-center\">Loading...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Point of Sale</h1>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"mb-4\">\n        <nav className=\"flex space-x-8\">\n          <button\n            onClick={() => setActiveTab('new')}\n            className={`py-2 px-1 border-b-2 font-medium text-sm ${\n              activeTab === 'new'\n                ? 'border-indigo-500 text-indigo-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n          >\n            New Transaction\n          </button>\n          <button\n            onClick={() => setActiveTab('history')}\n            className={`py-2 px-1 border-b-2 font-medium text-sm ${\n              activeTab === 'history'\n                ? 'border-indigo-500 text-indigo-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n          >\n            Transaction History\n          </button>\n        </nav>\n      </div>\n\n      {activeTab === 'new' ? (\n        <div className=\"grid grid-cols-2 gap-6\">\n          {/* Product Search and Cart */}\n          <div className=\"space-y-4\">\n            {/* Barcode Search */}\n            <div className=\"bg-white rounded-lg shadow p-4\">\n              <h3 className=\"text-lg font-semibold mb-2\">Barcode Scanner</h3>\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"text\"\n                  value={barcodeSearch}\n                  onChange={(e) => setBarcodeSearch(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && handleBarcodeSearch()}\n                  placeholder=\"Scan or enter barcode\"\n                  className=\"flex-1 border rounded px-3 py-2\"\n                />\n                <button\n                  onClick={handleBarcodeSearch}\n                  className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n                >\n                  Add\n                </button>\n              </div>\n            </div>\n\n            {/* Product Search */}\n            <div className=\"bg-white rounded-lg shadow p-4\">\n              <h3 className=\"text-lg font-semibold mb-2\">Product Search</h3>\n              <input\n                type=\"text\"\n                onChange={(e) => handleProductSearch(e.target.value)}\n                placeholder=\"Search products by name...\"\n                className=\"w-full border rounded px-3 py-2 mb-2\"\n              />\n              {searchResults.length > 0 && (\n                <div className=\"max-h-48 overflow-y-auto border rounded\">\n                  {searchResults.map(product => (\n                    <div\n                      key={product.id}\n                      onClick={() => addToCart(product)}\n                      className=\"p-2 hover:bg-gray-100 cursor-pointer border-b\"\n                    >\n                      <div className=\"font-medium\">{product.name}</div>\n                      <div className=\"text-sm text-gray-500\">\n                        {product.barcode}  ${product.price.toFixed(2)}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Cart */}\n            <div className=\"bg-white rounded-lg shadow p-4\">\n              <h3 className=\"text-lg font-semibold mb-2\">Cart</h3>\n              {cart.length === 0 ? (\n                <p className=\"text-gray-500\">Cart is empty</p>\n              ) : (\n                <div className=\"space-y-2\">\n                  {cart.map(item => (\n                    <div key={item.product.id} className=\"flex items-center justify-between border-b pb-2\">\n                      <div className=\"flex-1\">\n                        <div className=\"font-medium\">{item.product.name}</div>\n                        <div className=\"text-sm text-gray-500\">\n                          ${item.product.price.toFixed(2)} each\n                          {item.product.isLottery && (\n                            <span className=\"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800\">\n                              Lottery Ticket\n                            </span>\n                          )}\n                          {item.product.foodStampEligible && (\n                            <span className=\"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                              Food Stamp Eligible\n                            </span>\n                          )}\n                          {item.product.isLottery && (\n                            <span className={`ml-2 text-xs ${item.product.currentStock <= 0 ? 'text-orange-500' : 'text-gray-400'}`}>\n                              Stock: {item.product.currentStock} {item.product.currentStock <= 0 ? '(Low Stock)' : ''}\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <button\n                          onClick={() => updateCartItemQuantity(item.product.id, item.quantity - 1)}\n                          className=\"bg-gray-200 text-gray-600 w-6 h-6 rounded text-sm\"\n                        >\n                          -\n                        </button>\n                        <span className=\"w-8 text-center\">{item.quantity}</span>\n                        <button\n                          onClick={() => updateCartItemQuantity(item.product.id, item.quantity + 1)}\n                          className=\"bg-gray-200 text-gray-600 w-6 h-6 rounded text-sm\"\n                        >\n                          +\n                        </button>\n                        <button\n                          onClick={() => removeFromCart(item.product.id)}\n                          className=\"bg-red-500 text-white w-6 h-6 rounded text-sm ml-2\"\n                        >\n                          \n                        </button>\n                      </div>\n                      <div className=\"text-right w-20\">\n                        ${(item.product.price * item.quantity).toFixed(2)}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Transaction Summary and Payment */}\n          <div className=\"space-y-4\">\n            <div className=\"bg-white rounded-lg shadow p-4\">\n              <h3 className=\"text-lg font-semibold mb-4\">Transaction Summary</h3>\n              \n              {(() => {\n                const breakdown = getPaymentBreakdown();\n                const hasFood = breakdown.foodStampSubtotal > 0;\n                const hasNonFood = breakdown.nonFoodStampSubtotal > 0;\n                \n                return (\n                  <div className=\"space-y-2 text-sm\">\n                    {selectedPaymentMethod === 'EBT' && hasFood && hasNonFood ? (\n                      // Show breakdown when using EBT and have mixed items\n                      <>\n                        <div className=\"text-sm font-medium text-blue-600 mb-2\">Food Stamp Eligible Items:</div>\n                        <div className=\"flex justify-between pl-4\">\n                          <span>Subtotal:</span>\n                          <span>${breakdown.foodStampSubtotal.toFixed(2)}</span>\n                        </div>\n                        <div className=\"flex justify-between pl-4\">\n                          <span>Tax:</span>\n                          <span>${breakdown.foodStampTax.toFixed(2)}</span>\n                        </div>\n                        <div className=\"flex justify-between pl-4 font-medium\">\n                          <span>Food Stamp Total:</span>\n                          <span>${breakdown.foodStampTotal.toFixed(2)}</span>\n                        </div>\n                        \n                        <div className=\"text-sm font-medium text-green-600 mb-2 mt-3\">Other Payment Required:</div>\n                        <div className=\"flex justify-between pl-4\">\n                          <span>Subtotal:</span>\n                          <span>${breakdown.nonFoodStampSubtotal.toFixed(2)}</span>\n                        </div>\n                        <div className=\"flex justify-between pl-4\">\n                          <span>Tax:</span>\n                          <span>${breakdown.nonFoodStampTax.toFixed(2)}</span>\n                        </div>\n                        <div className=\"flex justify-between pl-4 font-medium\">\n                          <span>Other Payment Total:</span>\n                          <span>${breakdown.nonFoodStampTotal.toFixed(2)}</span>\n                        </div>\n                        \n                        {discountAmount > 0 && (\n                          <div className=\"flex justify-between\">\n                            <span>Discount:</span>\n                            <span>-${discountAmount.toFixed(2)}</span>\n                          </div>\n                        )}\n                        <hr />\n                        <div className=\"flex justify-between font-bold text-lg\">\n                          <span>Grand Total:</span>\n                          <span>${breakdown.grandTotal.toFixed(2)}</span>\n                        </div>\n                        \n                        <div className=\"mt-2 p-2 bg-yellow-50 border-l-4 border-yellow-400\">\n                          <p className=\"text-xs text-yellow-700\">\n                            <strong>Note:</strong> Food stamp eligible items (${breakdown.foodStampTotal.toFixed(2)}) can be paid with EBT. \n                            Remaining ${breakdown.nonFoodStampTotal.toFixed(2)} requires another payment method.\n                          </p>\n                        </div>\n                      </>\n                    ) : (\n                      // Standard breakdown for other payment methods\n                      <>\n                        <div className=\"flex justify-between\">\n                          <span>Subtotal:</span>\n                          <span>${calculateSubtotal().toFixed(2)}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Tax:</span>\n                          <span>${breakdown.totalTax.toFixed(2)}</span>\n                        </div>\n                        {discountAmount > 0 && (\n                          <div className=\"flex justify-between\">\n                            <span>Discount:</span>\n                            <span>-${discountAmount.toFixed(2)}</span>\n                          </div>\n                        )}\n                        <hr />\n                        <div className=\"flex justify-between font-bold text-lg\">\n                          <span>Total:</span>\n                          <span>${breakdown.grandTotal.toFixed(2)}</span>\n                        </div>\n                        \n                        {selectedPaymentMethod === 'EBT' && hasFood && !hasNonFood && (\n                          <div className=\"mt-2 p-2 bg-green-50 border-l-4 border-green-400\">\n                            <p className=\"text-xs text-green-700\">\n                              <strong>EBT:</strong> All items are food stamp eligible. No tax applied.\n                            </p>\n                          </div>\n                        )}\n                        \n                        {selectedPaymentMethod === 'EBT' && !hasFood && (\n                          <div className=\"mt-2 p-2 bg-red-50 border-l-4 border-red-400\">\n                            <p className=\"text-xs text-red-700\">\n                              <strong>Warning:</strong> No food stamp eligible items in cart. Please select a different payment method.\n                            </p>\n                          </div>\n                        )}\n                      </>\n                    )}\n                  </div>\n                );\n              })()}\n\n              <div className=\"mt-4 space-y-3\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Discount Amount</label>\n                  <input\n                    type=\"number\"\n                    step=\"0.01\"\n                    value={discountAmount}\n                    onChange={(e) => setDiscountAmount(parseFloat(e.target.value) || 0)}\n                    className=\"w-full border rounded px-3 py-2\"\n                    placeholder=\"0.00\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Payment Method</label>\n                  <select\n                    value={selectedPaymentMethod}\n                    onChange={(e) => setSelectedPaymentMethod(e.target.value)}\n                    className=\"w-full border rounded px-3 py-2\"\n                  >\n                    {paymentMethods.map(method => (\n                      <option key={method.value} value={method.value}>\n                        {method.label}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                {selectedPaymentMethod === 'CASH' && (\n                  <>\n                    <div>\n                      <label className=\"block text-sm font-medium mb-1\">Amount Paid</label>\n                      <input\n                        type=\"number\"\n                        step=\"0.01\"\n                        value={customerPaid}\n                        onChange={(e) => setCustomerPaid(e.target.value)}\n                        className=\"w-full border rounded px-3 py-2\"\n                        placeholder=\"0.00\"\n                      />\n                    </div>\n                    {customerPaid && (\n                      <div className=\"text-lg font-semibold\">\n                        Change: ${calculateChange().toFixed(2)}\n                      </div>\n                    )}\n                  </>\n                )}\n\n                <button\n                  onClick={handleCompleteTransaction}\n                  disabled={cart.length === 0}\n                  className=\"w-full bg-green-500 text-white py-3 rounded font-semibold hover:bg-green-600 disabled:bg-gray-300\"\n                >\n                  Complete Transaction\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      ) : (\n        /* Transaction History */\n        <div className=\"bg-white rounded-lg shadow overflow-x-auto\">\n          {/* Header with Create Sample Transactions button */}\n          <div className=\"px-6 py-4 border-b border-gray-200 flex justify-between items-center\">\n            <h3 className=\"text-lg font-medium text-gray-900\">Transaction History</h3>\n            {transactions.length === 0 && (\n              <button\n                onClick={createSampleTransactions}\n                className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 text-sm\"\n              >\n                Create Sample Transactions\n              </button>\n            )}\n          </div>\n\n          {transactions.length === 0 ? (\n            /* Empty State */\n            <div className=\"text-center py-12\">\n              <svg className=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2zM13 8.5a.5.5 0 11-1 0 .5.5 0 011 0zM9 15.5a.5.5 0 11-1 0 .5.5 0 011 0z\" />\n              </svg>\n              <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No transactions found</h3>\n              <p className=\"mt-1 text-sm text-gray-500\">\n                Get started by creating your first transaction using the \"New Sale\" tab above.\n              </p>\n              <div className=\"mt-4 space-y-2\">\n                <button\n                  onClick={() => setActiveTab('new')}\n                  className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 mr-2\"\n                >\n                  Start New Sale\n                </button>\n                <button\n                  onClick={createSampleTransactions}\n                  className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n                >\n                  Create Sample Transactions\n                </button>\n              </div>\n            </div>\n          ) : (\n            /* Transaction Table */\n            <table className=\"min-w-full table-auto\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Transaction #\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Date/Time\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Cashier\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Payment Method\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Total\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Status\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {transactions.map((transaction) => {\n                  const status = formatTransactionStatus(transaction.status);\n                  return (\n                    <tr key={transaction.id}>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                        #{transaction.transactionNumber || transaction.id}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        {transaction.transactionDate ? formatDate(transaction.transactionDate) : 'N/A'}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        {transaction.cashier?.username || 'Unknown'}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        {paymentMethods.find(pm => pm.value === transaction.paymentMethod)?.label || transaction.paymentMethod}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold\">\n                        ${transaction.totalAmount?.toFixed(2) || transaction.total?.toFixed(2) || '0.00'}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${status.color}`}>\n                          {status.label}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                        {transaction.status === 'COMPLETED' && (\n                          <>\n                            <button\n                              onClick={() => handleVoidTransaction(transaction.id)}\n                              className=\"text-red-600 hover:text-red-900 mr-2\"\n                            >\n                              Void\n                            </button>\n                            <button\n                              onClick={() => fetchTransactionDetails(transaction.id)}\n                              className=\"text-blue-600 hover:text-blue-900\"\n                            >\n                              View Details\n                            </button>\n                          </>\n                        )}\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          )}\n        </div>\n      )}\n\n      {/* Transaction Details Modal */}\n      {showTransactionDetails && selectedTransaction && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              {/* Header */}\n              <div className=\"flex justify-between items-center pb-4 border-b\">\n                <h3 className=\"text-lg font-semibold text-gray-900\">Transaction Details</h3>\n                <button\n                  onClick={() => setShowTransactionDetails(false)}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <span className=\"sr-only\">Close</span>\n                  <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n\n              {/* Bill Content */}\n              <div className=\"mt-4 p-6 bg-white border border-gray-200 rounded-lg\" style={{fontFamily: 'monospace'}}>\n                {/* Store Header */}\n                <div className=\"text-center mb-4\">\n                  <h2 className=\"text-xl font-bold\">GAS STATION MART</h2>\n                  <p className=\"text-sm\">123 Main Street</p>\n                  <p className=\"text-sm\">Your City, ST 12345</p>\n                  <p className=\"text-sm\">Phone: (555) 123-4567</p>\n                </div>\n\n                <div className=\"border-t border-b border-gray-300 py-2 mb-4\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span>Transaction #: {selectedTransaction.transactionNumber || selectedTransaction.id}</span>\n                    <span>{formatDate(selectedTransaction.transactionDate || selectedTransaction.createdAt)}</span>\n                  </div>\n                  <div className=\"flex justify-between text-sm\">\n                    <span>Cashier: {selectedTransaction.cashier?.username || 'Unknown'}</span>\n                    <span>Payment: {paymentMethods.find(pm => pm.value === selectedTransaction.paymentMethod)?.label || selectedTransaction.paymentMethod}</span>\n                  </div>\n                </div>\n\n                {/* Items */}\n                <div className=\"mb-4\">\n                  <div className=\"text-sm font-semibold mb-2\">ITEMS PURCHASED:</div>\n                  {selectedTransaction.items && selectedTransaction.items.length > 0 ? (\n                    selectedTransaction.items.map((item, index) => (\n                      <div key={index} className=\"flex justify-between text-sm mb-1\">\n                        <span className=\"flex-1\">\n                          {item.product?.name || 'Unknown Product'} \n                          <span className=\"text-gray-600 ml-2\">\n                            ({item.quantity} @ ${item.unitPrice?.toFixed(2) || '0.00'})\n                          </span>\n                        </span>\n                        <span className=\"font-medium\">${item.totalPrice?.toFixed(2) || (item.quantity * item.unitPrice).toFixed(2) || '0.00'}</span>\n                      </div>\n                    ))\n                  ) : (\n                    <div className=\"text-sm text-gray-500\">\n                      <p>No detailed items available for this transaction.</p>\n                      <p className=\"mt-1\">This may be a system-generated sample transaction.</p>\n                    </div>\n                  )}\n                </div>\n\n                {/* Totals */}\n                <div className=\"border-t border-gray-300 pt-2\">\n                  <div className=\"flex justify-between text-sm mb-1\">\n                    <span>Subtotal:</span>\n                    <span>${selectedTransaction.subtotal?.toFixed(2) || '0.00'}</span>\n                  </div>\n                  <div className=\"flex justify-between text-sm mb-1\">\n                    <span>Tax:</span>\n                    <span>${selectedTransaction.taxAmount?.toFixed(2) || '0.00'}</span>\n                  </div>\n                  {(selectedTransaction.discountAmount > 0) && (\n                    <div className=\"flex justify-between text-sm mb-1\">\n                      <span>Discount:</span>\n                      <span>-${selectedTransaction.discountAmount?.toFixed(2) || '0.00'}</span>\n                    </div>\n                  )}\n                  <div className=\"flex justify-between text-lg font-bold border-t border-gray-300 pt-2\">\n                    <span>TOTAL:</span>\n                    <span>${selectedTransaction.totalAmount?.toFixed(2) || selectedTransaction.total?.toFixed(2) || '0.00'}</span>\n                  </div>\n                </div>\n\n                {/* Footer */}\n                <div className=\"text-center mt-4 pt-4 border-t border-gray-300 text-sm\">\n                  <p>Thank you for your business!</p>\n                  <p>Please come again!</p>\n                  <div className=\"mt-2\">\n                    <span className={`px-2 py-1 rounded text-xs ${formatTransactionStatus(selectedTransaction.status).color}`}>\n                      Status: {formatTransactionStatus(selectedTransaction.status).label}\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Modal Actions */}\n              <div className=\"flex justify-end space-x-2 mt-4\">\n                <button\n                  onClick={() => window.print()}\n                  className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n                >\n                  Print Receipt\n                </button>\n                <button\n                  onClick={() => setShowTransactionDetails(false)}\n                  className=\"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400\"\n                >\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default POS; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}